var Pt=Object.defineProperty;var _t=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var R=(e,t,r)=>_t(e,typeof t!="symbol"?t+"":t,r);import{r as Rt,a as $t,g as Le}from"./react-vendor-BtP0CW_r.js";import{r as f,R as N,m as y,S as Me,A as qe,a as Lt,u as Mt}from"./ui-libs-Bx-bPxCs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var be={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je;function It(){if(Je)return Q;Je=1;var e=Rt(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(d,l,c){var m,h={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(m in l)n.call(l,m)&&!a.hasOwnProperty(m)&&(h[m]=l[m]);if(d&&d.defaultProps)for(m in l=d.defaultProps,l)h[m]===void 0&&(h[m]=l[m]);return{$$typeof:t,type:d,key:p,ref:g,props:h,_owner:s.current}}return Q.Fragment=r,Q.jsx=o,Q.jsxs=o,Q}var Ue;function Ft(){return Ue||(Ue=1,be.exports=It()),be.exports}var Ie=Ft();const ee=Ie.Fragment,i=Ie.jsx,u=Ie.jsxs;var ne={},Be;function Ht(){if(Be)return ne;Be=1;var e=$t();return ne.createRoot=e.createRoot,ne.hydrateRoot=e.hydrateRoot,ne}var zt=Ht(),xe,We;function Dt(){if(We)return xe;We=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var d,l,c;if(Array.isArray(a)){if(d=a.length,d!=o.length)return!1;for(l=d;l--!==0;)if(!s(a[l],o[l]))return!1;return!0}var m;if(t&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(m=a.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;for(m=a.entries();!(l=m.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(m=a.entries();!(l=m.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(d=a.length,d!=o.length)return!1;for(l=d;l--!==0;)if(a[l]!==o[l])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(c=Object.keys(a),d=c.length,d!==Object.keys(o).length)return!1;for(l=d;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&a instanceof Element)return!1;for(l=d;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&a.$$typeof)&&!s(a[c[l]],o[c[l]]))return!1;return!0}return a!==a&&o!==o}return xe=function(o,d){try{return s(o,d)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},xe}var Kt=Dt();const qt=Le(Kt);var we,Ve;function Jt(){if(Ve)return we;Ve=1;var e=function(t,r,n,s,a,o,d,l){if(!t){var c;if(r===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,s,a,o,d,l],h=0;c=new Error(r.replace(/%s/g,function(){return m[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return we=e,we}var Ut=Jt();const Ze=Le(Ut);var ve,Ge;function Bt(){return Ge||(Ge=1,ve=function(t,r,n,s){var a=n?n.call(s,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),d=Object.keys(r);if(o.length!==d.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),c=0;c<o.length;c++){var m=o[c];if(!l(m))return!1;var h=t[m],p=r[m];if(a=n?n.call(s,h,p,m):void 0,a===!1||a===void 0&&h!==p)return!1}return!0}),ve}var Wt=Bt();const Vt=Le(Wt);var yt=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(yt||{}),Ne={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Qe=Object.values(yt),Fe={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Zt=Object.entries(Fe).reduce((e,[t,r])=>(e[r]=t,e),{}),A="data-rh",V={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Z=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},Gt=e=>{let t=Z(e,"title");const r=Z(e,V.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Z(e,V.DEFAULT_TITLE);return t||n||void 0},Qt=e=>Z(e,V.ON_CHANGE_CLIENT_STATE)||(()=>{}),Te=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Yt=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(e.indexOf(d)!==-1&&n[d])return r.concat(n)}}return r},[]),Xt=e=>console&&typeof console.warn=="function"&&console.warn(e),Y=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Xt(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,a)=>{const o={};a.filter(l=>{let c;const m=Object.keys(l);for(let p=0;p<m.length;p+=1){const g=m[p],b=g.toLowerCase();t.indexOf(b)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(b==="rel"&&l[b].toLowerCase()==="stylesheet")&&(c=b),t.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(c=g)}if(!c||!l[c])return!1;const h=l[c].toLowerCase();return n[c]||(n[c]={}),o[c]||(o[c]={}),n[c][h]?!1:(o[c][h]=!0,!0)}).reverse().forEach(l=>s.push(l));const d=Object.keys(o);for(let l=0;l<d.length;l+=1){const c=d[l],m={...n[c],...o[c]};n[c]=m}return s},[]).reverse()},er=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},tr=e=>({baseTag:Yt(["href"],e),bodyAttributes:Te("bodyAttributes",e),defer:Z(e,V.DEFER),encode:Z(e,V.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Te("htmlAttributes",e),linkTags:Y("link",["rel","href"],e),metaTags:Y("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Y("noscript",["innerHTML"],e),onChangeClientState:Qt(e),scriptTags:Y("script",["src","innerHTML"],e),styleTags:Y("style",["cssText"],e),title:Gt(e),titleAttributes:Te("titleAttributes",e),prioritizeSeoTags:er(e,V.PRIORITIZE_SEO_TAGS)}),bt=e=>Array.isArray(e)?e.join(""):e,rr=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Se=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(rr(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Ye=(e,t)=>({...e,[t]:void 0}),nr=["noscript","script","style"],Pe=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),xt=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),ar=(e,t,r,n)=>{const s=xt(r),a=bt(t);return s?`<${e} ${A}="true" ${s}>${Pe(a,n)}</${e}>`:`<${e} ${A}="true">${Pe(a,n)}</${e}>`},ir=(e,t,r=!0)=>t.reduce((n,s)=>{const a=s,o=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,m)=>{const h=typeof a[m]>"u"?m:`${m}="${Pe(a[m],r)}"`;return c?`${c} ${h}`:h},""),d=a.innerHTML||a.cssText||"",l=nr.indexOf(e)===-1;return`${n}<${e} ${A}="true" ${o}${l?"/>":`>${d}</${e}>`}`},""),wt=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=Fe[n];return r[s||n]=e[n],r},t),sr=(e,t,r)=>{const n={key:t,[A]:!0},s=wt(r,n);return[N.createElement("title",s,t)]},se=(e,t)=>t.map((r,n)=>{const s={key:n,[A]:!0};return Object.keys(r).forEach(a=>{const d=Fe[a]||a;if(d==="innerHTML"||d==="cssText"){const l=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[d]=r[a]}),N.createElement(e,s)}),C=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>sr(e,t.title,t.titleAttributes),toString:()=>ar(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>wt(t),toString:()=>xt(t)};default:return{toComponent:()=>se(e,t),toString:()=>ir(e,t,r)}}},or=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=Se(e,Ne.meta),a=Se(t,Ne.link),o=Se(r,Ne.script);return{priorityMethods:{toComponent:()=>[...se("meta",s.priority),...se("link",a.priority),...se("script",o.priority)],toString:()=>`${C("meta",s.priority,n)} ${C("link",a.priority,n)} ${C("script",o.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:o.default}},lr=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:o,title:d="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:m,metaTags:h,scriptTags:p}=e,g={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:g,linkTags:m,metaTags:h,scriptTags:p}=or(e)),{priority:g,base:C("base",t,n),bodyAttributes:C("bodyAttributes",r,n),htmlAttributes:C("htmlAttributes",s,n),link:C("link",m,n),meta:C("meta",h,n),noscript:C("noscript",a,n),script:C("script",p,n),style:C("style",o,n),title:C("title",{title:d,titleAttributes:l},n)}},_e=lr,ae=[],vt=!!(typeof window<"u"&&window.document&&window.document.createElement),Re=class{constructor(e,t){R(this,"instances",[]);R(this,"canUseDOM",vt);R(this,"context");R(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?ae:this.instances,add:e=>{(this.canUseDOM?ae:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?ae:this.instances).indexOf(e);(this.canUseDOM?ae:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=_e({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},cr={},Nt=N.createContext(cr),z,Tt=(z=class extends f.Component{constructor(r){super(r);R(this,"helmetData");this.helmetData=new Re(this.props.context||{},z.canUseDOM)}render(){return N.createElement(Nt.Provider,{value:this.helmetData.value},this.props.children)}},R(z,"canUseDOM",vt),z),U=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${A}]`),s=[].slice.call(n),a=[];let o;return t&&t.length&&t.forEach(d=>{const l=document.createElement(e);for(const c in d)if(Object.prototype.hasOwnProperty.call(d,c))if(c==="innerHTML")l.innerHTML=d.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=d.cssText:l.appendChild(document.createTextNode(d.cssText));else{const m=c,h=typeof d[m]>"u"?"":d[m];l.setAttribute(c,h)}l.setAttribute(A,"true"),s.some((c,m)=>(o=m,l.isEqualNode(c)))?s.splice(o,1):a.push(l)}),s.forEach(d=>{var l;return(l=d.parentNode)==null?void 0:l.removeChild(d)}),a.forEach(d=>r.appendChild(d)),{oldTags:s,newTags:a}},$e=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(A),s=n?n.split(","):[],a=[...s],o=Object.keys(t);for(const d of o){const l=t[d]||"";r.getAttribute(d)!==l&&r.setAttribute(d,l),s.indexOf(d)===-1&&s.push(d);const c=a.indexOf(d);c!==-1&&a.splice(c,1)}for(let d=a.length-1;d>=0;d-=1)r.removeAttribute(a[d]);s.length===a.length?r.removeAttribute(A):r.getAttribute(A)!==o.join(",")&&r.setAttribute(A,o.join(","))},dr=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=bt(e)),$e("title",t)},Xe=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:a,metaTags:o,noscriptTags:d,onChangeClientState:l,scriptTags:c,styleTags:m,title:h,titleAttributes:p}=e;$e("body",n),$e("html",s),dr(h,p);const g={baseTag:U("base",r),linkTags:U("link",a),metaTags:U("meta",o),noscriptTags:U("noscript",d),scriptTags:U("script",c),styleTags:U("style",m)},b={},w={};Object.keys(g).forEach(x=>{const{newTags:T,oldTags:E}=g[x];T.length&&(b[x]=T),E.length&&(w[x]=g[x].oldTags)}),t&&t(),l(e,b,w)},X=null,ur=e=>{X&&cancelAnimationFrame(X),e.defer?X=requestAnimationFrame(()=>{Xe(e,()=>{X=null})}):(Xe(e),X=null)},mr=ur,et=class extends f.Component{constructor(){super(...arguments);R(this,"rendered",!1)}shouldComponentUpdate(t){return!Vt(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const s=tr(t.get().map(a=>{const o={...a.props};return delete o.context,o}));Tt.canUseDOM?mr(s):_e&&(n=_e(s)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ae,de=(Ae=class extends f.Component{shouldComponentUpdate(e){return!qt(Ye(this.props,"helmetData"),Ye(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Ze(Qe.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Qe.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Ze(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return N.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...a}=n.props,o=Object.keys(a).reduce((l,c)=>(l[Zt[c]||c]=a[c],l),{});let{type:d}=n;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(n,s),d){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,s);break;default:t=this.mapObjectTypeChildren(n,t,o,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof Re)){const s=n;n=new Re(s.context,!0),delete r.helmetData}return n?N.createElement(et,{...r,context:n.value}):N.createElement(Nt.Consumer,null,s=>N.createElement(et,{...r,context:s}))}},R(Ae,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ae);const fr={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white"},H=({children:e,onClick:t,type:r="button",variant:n="primary",disabled:s=!1,className:a=""})=>i(y.button,{whileTap:{scale:.97},whileHover:s?{}:{scale:1.03},type:r,onClick:t,disabled:s,className:`
        px-5 py-2 rounded-xl font-medium text-sm transition-all
        focus:outline-none focus:ring-2 focus:ring-offset-2
        ${fr[n]}
        ${s?"opacity-50 cursor-not-allowed":""}
        ${a}
      `,children:e});function hr({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const pr=f.forwardRef(hr);function gr({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const yr=f.forwardRef(gr);function br({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const xr=f.forwardRef(br);function wr({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const vr=f.forwardRef(wr);function Nr({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Ee=f.forwardRef(Nr),D=({title:e,description:t,children:r,footer:n,className:s="",variant:a="default"})=>{const o="rounded-xl px-3 py-2 sm:px-6 sm:py-6 w-full border shadow transition-all duration-300",d={default:"bg-white text-gray-900 border-gray-200",answer_choices:"bg-white text-gray-900 border-gray-200",dark:"bg-gray-900 text-gray-100 border-gray-700",correct:"bg-green-900 text-green-100 border-green-600",incorrect:"bg-red-900 text-red-100 border-red-600"},l={correct:i(yr,{className:"h-0 w-0 sm:h-6 sm:w-6 text-green-400","aria-hidden":"true"}),incorrect:i(vr,{className:"h-0 w-0 sm:h-6 sm:w-6 text-red-400","aria-hidden":"true"}),default:i(Ee,{className:"h-0 w-0 sm:h-6 sm:w-6 text-blue-400","aria-hidden":"true"}),answer_choices:i(Ee,{className:"h-0 w-0 sm:h-6 sm:w-6 text-blue-400","aria-hidden":"true"}),dark:i(Ee,{className:"h-0 w-0 sm:h-6 sm:w-6 text-yellow-400","aria-hidden":"true"})},c=a==="dark"||a==="correct"||a==="incorrect"?"border-gray-700":"border-gray-200",m=a==="answer_choices"||a==="dark"||a==="correct"||a==="incorrect"?"max-w-full sm:max-w-2xl md:max-w-3xl":"max-w-full sm:max-w-md",h=e?`card-title-${Math.random().toString(36).substr(2,9)}`:void 0;return u(y.article,{role:"region","aria-labelledby":e?h:void 0,className:`${o} ${d[a]} ${m} ${s} mx-auto`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e&&u("header",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-center sm:justify-center text-center sm:text-center gap-2 sm:gap-3 mb-1 sm:mb-4","aria-label":"Card header",children:[i("div",{className:"flex-shrink-0",children:l[a]}),u("div",{className:"w-full",children:[i("h3",{id:h,className:"text-base sm:text-lg md:text-xl font-semibold leading-tight",children:e}),t&&i("p",{className:`text-sm mt-1 break-words ${a==="dark"||a==="correct"||a==="incorrect"?"text-gray-300":"text-gray-600"}`,children:t})]})]}),r&&i("section",{"aria-label":"Card content",className:"mb-1 sm:mb-4 text-sm sm:text-base break-words",children:r}),n&&i("footer",{className:`pt-1 sm:pt-4 border-t ${c}`,"aria-label":"Card footer",children:i("div",{className:"text-sm sm:text-base break-words",children:n})})]})},Tr=({kanjiQuestion:e,className:t=""})=>!e.imageUrl||e.imageUrl.trim()===""?null:u(y.div,{role:"region","aria-label":`Illustration of kanji ${e.prompt}`,className:`bg-gray-900 text-white border border-gray-700 rounded-2xl shadow-md p-4 w-full max-w-2xl mx-auto ${t}`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[u("div",{className:"text-sm mb-3 font-semibold text-center sm:text-left",children:["Illustration for:"," ",i("span",{className:"text-green-400 text-lg",children:e.prompt})]}),i("div",{className:"w-full aspect-video bg-gray-800 rounded-xl overflow-hidden flex items-center justify-center",children:i("img",{src:e.imageUrl,alt:`Kanji Illustration - ${e.prompt}`,className:"object-contain w-full max-h-full",loading:"lazy"})})]}),Sr=({fallbackSrc:e,...t})=>i("img",{...t,loading:"lazy",onError:r=>{const n=r.currentTarget;n.onerror=null,n.src=e}}),tt=({label:e,options:t,selected:r,onChange:n,className:s="",name:a,id:o,"aria-label":d,"aria-describedby":l})=>{const c=f.useId(),m=o||c,h=p=>typeof p.label=="string"?p.label:p.stringLabel?p.stringLabel:String(p.value??"--SELECT--");return u("div",{className:`w-full max-w-sm ${s}`,children:[e&&i("label",{htmlFor:m,className:"block mb-1 text-gray-700 text-sm font-semibold",children:e}),u("div",{className:"relative",children:[i(y.select,{id:m,name:a,value:r===null?"":r,onChange:p=>{const g=p.target.value===""?null:p.target.value;n(g)},"aria-label":d||(typeof e=="string"?e:void 0),"aria-describedby":l,className:"appearance-none w-full bg-gray-800 text-white text-sm sm:text-base py-2 pl-3 pr-10 rounded-lg border border-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",whileHover:{scale:1.01},whileFocus:{scale:1.01},children:t.map(p=>i("option",{value:p.value===null?"":p.value,className:`text-sm sm:text-base ${p.value===null?"text-gray-400":"text-white"}`,children:h(p)},String(p.value)))}),i(xr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]}),l&&i("p",{id:l,className:"sr-only",children:l})]})};var B=(e=>(e.N5="N5",e.N4="N4",e.N3="N3",e.N2="N2",e.N1="N1",e))(B||{});const ke={N5:"/docs/kanji_n5.xlsx",N4:"/docs/kanji_n4.xlsx",N3:"/docs/kanji_n3.xlsx",N2:"/docs/kanji_n2.xlsx",N1:"/docs/kanji_n1.xlsx"},$="Khan's　漢字　English Quiz",Er="漢字",kr="英語",te=4,He=-1,ze=0,W=120,Cr="/Kanji_Images/",St=({score:e,total:t,correctAnswers:r,wrongAnswers:n,className:s=""})=>{const a=t*te,o=t>0?e/a*100:0;return u(y.div,{role:"region","aria-label":"Score summary",className:`bg-gray-900 text-white rounded-2xl shadow-xl p-6 w-full max-w-md mx-auto ${s}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[i("h2",{className:"text-xl font-semibold text-blue-400 mb-5 text-center",tabIndex:0,children:"Your Score Summary"}),u("div",{className:"mb-5",children:[u("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[i("span",{children:"Score"}),u("span",{children:[e," / ",a]})]}),i("div",{className:"w-full h-4 bg-gray-700 rounded-full overflow-hidden",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":o,children:i(y.div,{className:"h-full bg-blue-500",style:{width:`${o}%`},animate:{width:`${o}%`},transition:{duration:.5}})})]}),u("div",{className:"grid grid-cols-2 gap-4 text-sm mt-4",children:[u("div",{className:"bg-gray-800 rounded-xl p-4 text-center",role:"group","aria-label":`${r} correct answers`,children:[i("p",{className:"text-green-400 font-bold text-xl",children:r}),i("p",{className:"text-gray-300","aria-hidden":"true",children:"✔️"}),i("span",{className:"sr-only",children:"Correct answers"})]}),u("div",{className:"bg-gray-800 rounded-xl p-4 text-center",role:"group","aria-label":`${n} wrong answers`,children:[i("p",{className:"text-red-400 font-bold text-xl",children:n}),i("p",{className:"text-gray-300","aria-hidden":"true",children:"❌"}),i("span",{className:"sr-only",children:"Wrong answers"})]})]})]})},Or=({timeLeft:e,totalDuration:t,className:r=""})=>{const n=a=>{const o=Math.floor(a/60).toString().padStart(2,"0"),d=(a%60).toString().padStart(2,"0");return`${o}:${d}`},s=t>0?e/t*100:0;return u(y.div,{role:"timer","aria-label":`Timer showing ${n(e)} remaining`,className:`bg-gray-900 text-white rounded-2xl shadow-lg w-full max-w-sm mx-auto p-5 ${r}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i("div",{className:"text-center text-lg font-semibold text-blue-400 mb-3",children:"⏱️ Time Remaining"}),i("div",{className:"relative w-full h-4 rounded-full bg-gray-700 overflow-hidden","aria-label":`Progress bar with ${s.toFixed(1)}% time left`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s,children:i(y.div,{className:"absolute top-0 left-0 h-full bg-green-400",style:{width:`${s}%`},animate:{width:`${s}%`},transition:{duration:.5}})}),i("div",{className:"mt-3 text-center text-3xl font-bold text-green-400 tracking-widest",children:n(e)})]})};var P=(e=>(e.EN_TO_JP="EN_TO_JP",e.JP_TO_EN="JP_TO_EN",e))(P||{}),S=(e=>(e.Welcome="WELCOME",e.Play="PLAY",e.Finish="FINISH",e))(S||{}),Et={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rt=N.createContext&&N.createContext(Et),jr=["attr","size","title"];function Ar(e,t){if(e==null)return{};var r=Pr(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pr(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(this,arguments)}function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(r),!0).forEach(function(n){_r(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _r(e,t,r){return t=Rr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e){var t=$r(e,"string");return typeof t=="symbol"?t:t+""}function $r(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e){return e&&e.map((t,r)=>N.createElement(t.tag,le({key:r},t.attr),kt(t.child)))}function De(e){return t=>N.createElement(Lr,oe({attr:le({},e.attr)},t),kt(e.child))}function Lr(e){var t=r=>{var{attr:n,size:s,title:a}=e,o=Ar(e,jr),d=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),N.createElement("svg",oe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:le(le({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&N.createElement("title",null,a),e.children)};return rt!==void 0?N.createElement(rt.Consumer,null,r=>t(r)):t(Et)}function Mr(e){return De({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},child:[]}]})(e)}function at(e){return De({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(e)}function it(e){return De({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"},child:[]}]})(e)}const st=async(e,t,r)=>(await Me.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:r,cancelButtonText:"Cancel",background:"#1f2937",color:"#f3f4f6",customClass:{confirmButton:"px-4 py-2 bg-red-600 text-white rounded",cancelButton:"px-4 py-2 bg-blue-600 text-white rounded"}})).isConfirmed,ot=async()=>{await Me.fire({toast:!0,position:"top-end",icon:"info",title:"Quiz reset!",showConfirmButton:!1,timer:1500,timerProgressBar:!0,background:"#1f2937",color:"#f3f4f6"})},Ir=({mode:e,setMode:t,level:r,setLevel:n,currentIndex:s,quizState:a})=>{const o=s===0||a!==S.Play,d=f.useCallback(async c=>{if(!(!c||!Object.values(P).includes(c)))if(o)t(c);else{const m=c===P.JP_TO_EN?"漢字 TO EN":"EN TO 漢字";await st("Confirm Mode Change",`Changing Quiz Mode will restart the quiz. Are you sure you want to change Quiz Mode to: ${m}?`,`Change to: ${m}`)&&(t(c),ot())}},[t,s,a]),l=f.useCallback(async c=>{if(o)n(c);else{const m=c??"Combined";await st("Confirm Level Change",`Changing JLPT Level will restart the quiz. Are you sure you want to change to JLPT Level: ${m}?`,`Change to: ${m}`)&&(n(c),ot())}},[n,s,a]);return u("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-4 px-2 sm:px-4",children:[i(D,{"aria-label":"Quiz Mode Card",className:"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 text-base sm:text-lg font-bold rounded-lg shadow-md px-4 py-0 sm:py-4",footer:u("span",{tabIndex:0,className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 pb-1 block",title:`Currently selected mode is ${e===P.JP_TO_EN?"漢字 TO EN":"EN TO 漢字"}`,children:["Mode: ",e]}),children:i(tt,{label:u("h3",{className:"text-base sm:text-lg font-semibold mb-0 sm:mb-2 flex items-center gap-2",children:[i(at,{className:"text-xl"}),"Select Quiz Mode"]}),options:[{value:P.JP_TO_EN,label:u("span",{className:"flex items-center gap-2",children:[i(at,{})," 漢字 TO EN"]}),stringLabel:"漢字 TO EN"},{value:P.EN_TO_JP,label:u("span",{className:"flex items-center gap-2",children:[i(Mr,{})," EN TO 漢字"]}),stringLabel:"EN TO 漢字"}],selected:e,onChange:c=>{d(c)},"aria-label":"Select Quiz Mode"})}),i(D,{"aria-label":"JLPT Level Card",className:"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 text-base sm:text-lg font-bold rounded-lg shadow-md px-4 py-0 sm:py-4",footer:u("span",{tabIndex:0,className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 pb-1 block",title:`Current JLPT Level: ${r??"All Levels Combined"}`,children:["Level: ",r??"All Levels Combined"]}),children:i(tt,{label:u("h3",{className:"text-base sm:text-lg font-semibold mb-0 sm:mb-2 flex items-center gap-2",children:[i(it,{className:"text-xl"})," Select JLPT Level"]}),options:[{value:null,label:u("span",{className:"flex items-center gap-2",children:[i(it,{})," --SELECT--"]}),stringLabel:"--SELECT--"},{value:B.N5,label:"N5"},{value:B.N4,label:"N4"},{value:B.N3,label:"N3"},{value:B.N2,label:"N2"},{value:B.N1,label:"N1"}],selected:r,onChange:c=>{l(c)},"aria-label":"Select JLPT Level"})})]})},lt=({title:e,choices:t,selected:r,variant:n="Meaning",onSelect:s})=>u("div",{className:"w-full space-y-4 text-center",children:[i("p",{className:"text-sm font-semibold text-gray-300",children:n==="Pronunciation"?"Select the pronunciation:":"Select the meaning:"}),e&&i("div",{className:"text-6xl font-bold text-gray-100 tracking-wide",children:e}),i("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 bg-[#3b3b40] rounded-lg p-1 sm:p-2",children:t.map(o=>i("button",{onClick:()=>s(o),className:`w-full px-4 py-2 rounded-lg text-sm font-semibold border transition-all duration-200 
                focus:outline-none  focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
                ${r===o?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-gray-800 text-gray-200 border-gray-600 hover:bg-gray-700 hover:border-blue-400"}`,children:o},o))})]}),ct=(e,t,r)=>e===null?`⚠️ ${r} Skipped`:e===t?`✅ ${r} Correct`:`❌ ${r} Wrong`,Ce=e=>e>0?"+"+e:e.toString(),dt=(e,t)=>e===null?"text-yellow-400":e===t?"text-green-400":"text-red-400",ut=(e,t)=>e===null?"⚠️":e===t?"✔️":"❌",Fr=({qLength:e,currentQuestion:t,currentIndex:r,showAnswer:n,selectedMeaning:s,selectedReading:a,correctMeaning:o,correctReading:d,score:l,remainingTime:c,onSubmit:m,onNext:h,onSkip:p,resetQuiz:g,handleFinish:b})=>u("div",{className:"flex flex-col lg:flex-row gap-6 mt-6 w-full px-4 justify-center",children:[i("div",{className:"w-full lg:max-w-2xl",children:n?u(ee,{children:[i(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",children:u(D,{title:"Feedback",description:"Check your answers below:",className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[u("div",{className:"space-y-2 text-base sm:text-lg font-medium",children:[i("p",{children:ct(s,o,"Meaning")}),i("p",{children:ct(a,d,"Reading")}),u("p",{className:"flex items-center flex-wrap gap-x-4",children:[i("span",{className:"font-bold",children:t.prompt}),i("span",{className:"text-sm opacity-80",children:"Correct Answer:"})]}),u("p",{className:"flex flex-wrap items-center gap-x-6",children:[u("span",{className:`font-bold ${dt(s,o)}`,children:[ut(s,o)," ",o]}),u("span",{className:`font-bold ${dt(a,d)}`,children:[ut(a,d)," ",d]})]})]}),i("div",{className:"mt-4 max-w-sm mx-auto",children:i(Tr,{kanjiQuestion:t})})]})},"feedback"),i(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",className:"fixed bottom-0 left-0 right-0 z-20 p-4 bg-white dark:bg-gray-900 border-t shadow-md flex flex-wrap justify-center gap-4 w-full",children:r===e-1?u(ee,{children:[i(H,{variant:"secondary",onClick:b,children:"Finish"}),i(H,{variant:"secondary",onClick:g,children:"Restart"})]}):i(H,{variant:"secondary",onClick:h,children:"Next Question"})},"action1")]}):u(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",className:"fixed bottom-0 left-0 right-0 z-20 p-4 bg-white dark:bg-gray-900 border-t shadow-md flex flex-wrap justify-center gap-4 w-full",children:[i(H,{onClick:p,variant:"secondary",children:"Skip"}),s&&a&&i(H,{onClick:m,children:"Submit Answer"})]},"action2")}),i(y.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.4},className:"w-full lg:max-w-sm",children:u(D,{title:"Score",description:`Correct: ${Ce(te)}, Wrong: ${Ce(He)}, Skip: ${Ce(ze)}`,className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100",footer:l.currentScore<0?i("span",{className:"text-sm text-red-400",children:"Try to answer carefully. Random guesses are hurting your score."}):null,children:[i(Or,{timeLeft:c,totalDuration:W}),i(St,{score:l.currentScore,total:l.total,correctAnswers:l.correctAnswers,wrongAnswers:l.wrongAnswers})]})},"score")]}),Hr=({opacity:e=.05})=>i("div",{className:"absolute inset-0 bg-[url('/pattern.svg')] bg-cover bg-center bg-repeat pointer-events-none z-0",style:{opacity:e}}),zr=({opacity:e=.1})=>u(ee,{children:[i("div",{"aria-hidden":"true",className:"absolute top-10 left-5 text-[5rem] sm:text-[7rem] md:text-[10rem] font-bold text-gray-900 select-none pointer-events-none",style:{opacity:e},children:Er}),i("div",{"aria-hidden":"true",className:"absolute bottom-10 right-5 text-[5rem] sm:text-[7rem] md:text-[10rem] font-bold text-gray-900 select-none pointer-events-none",style:{opacity:e},children:kr})]}),Ct="/khans_kanji_english_practice/assets/Logo-CTuXKy6x.png";function Ot(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ot(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ot(e))&&(n&&(n+=" "),n+=t);return n}const jt=f.forwardRef(({scrolled:e,scrollProgress:t},r)=>{const[n,s]=f.useState(!1);f.useEffect(()=>{const o=()=>s(document.documentElement.classList.contains("dark"));o();const d=new MutationObserver(o);return d.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>d.disconnect()},[]);const a=n?e?"rgba(31, 41, 55, 0.9)":"#1f2937":e?"rgba(229, 231, 235, 0.9)":"#ffffff";return i(qe,{children:u(y.header,{id:"header1",ref:r,role:"banner",initial:!1,animate:{y:e?0:-10,opacity:1,backgroundColor:a,boxShadow:e?"0 2px 10px rgba(0, 0, 0, 0.1)":"0 0px 0px rgba(0, 0, 0, 0)"},transition:{duration:.3,ease:"easeInOut"},className:Oe("fixed top-0 left-0 w-full z-50","border-b border-gray-300 dark:border-gray-700","transition-colors duration-300"),children:[u("h2",{className:Oe("flex items-center justify-center gap-2","text-center font-semibold tracking-wide","text-gray-800 dark:text-white","py-4 sm:py-5 px-2","whitespace-nowrap overflow-hidden text-ellipsis","text-fluid-xl"),children:[i(y.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"w-6 h-6 sm:w-9 sm:h-9 md:w-12 md:h-12 mr-0 sm:mr-2 rounded-full flex items-center justify-center bg-[radial-gradient(circle,white_40%,#4b5563_100%)] shadow-md",children:i("img",{loading:"lazy",src:Ct,alt:"Khan's Logo",className:"w-4 h-4 sm:w-9 sm:h-9 md:w-8 md:h-8 object-cover rounded-full"})}),i("span",{className:Oe("bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent","drop-shadow-sm whitespace-nowrap overflow-hidden text-ellipsis"),children:$})]}),i(qe,{children:e&&i(y.div,{className:"h-1 w-full overflow-hidden",initial:{opacity:0,scaleX:0},animate:{scaleX:t/100,opacity:1,transformOrigin:"left center"},exit:{opacity:0,scaleX:0},transition:{duration:.2,ease:"easeOut"},children:i("div",{className:"h-full w-full animate-gradient-x",style:{backgroundImage:"linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899)",backgroundSize:"300% 100%"}})},"scroll-bar")})]},"header")})});jt.displayName="Header";const Dr=({quizState:e,handleStartPlay:t})=>u("footer",{role:"contentinfo",className:"bg-gray-900 text-gray-200 py-12 px-4",children:[u("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 mb-14",children:[u("div",{children:[i(y.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto mb-4 rounded-full flex items-center justify-center bg-[radial-gradient(circle,white_40%,#4b5563_100%)] shadow-md",children:i("img",{loading:"lazy",src:Ct,alt:"Khan's Logo",className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 object-cover rounded-full"})}),u("p",{className:"text-sm leading-relaxed",children:["Developed by ",i("strong",{children:"Khan Mahmudul Hasan"}),", a dedicated software engineer based in Japan. Specializing in modern frontend technologies and committed to building accessible, useful, and user-friendly applications for learners and businesses alike."]}),u("p",{className:"mt-4 text-xs text-gray-400",children:["© ",new Date().getFullYear()," Khan Mahmudul Hasan. All rights reserved."]})]}),u("div",{children:[i("h4",{className:"text-lg font-semibold mb-4",children:"Connect"}),u("ul",{className:"space-y-3",children:[i("li",{children:u("a",{href:"https://www.facebook.com/cse.mahmud",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's Facebook profile",className:"flex items-center hover:text-white transition-colors duration-200 focus-visible:outline",children:[i(y.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:i("img",{loading:"lazy",src:"icons/Facebook.png",alt:"Facebook",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"Facebook: cse.mahmud"]})}),i("li",{children:u("a",{href:"https://www.linkedin.com/in/mahmudulcse/",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's LinkedIn profile",className:"flex items-center hover:text-white transition-colors duration-200 focus-visible:outline",children:[i(y.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:i("img",{loading:"lazy",src:"icons/LinkedIn.png",alt:"LinkedIn",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"LinkedIn: /in/mahmudulcse"]})}),i("li",{children:u("a",{href:"https://github.com/csemahmud",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's GitHub profile",className:"flex items-center hover:text-white transition-colors duration-200 focus-visible:outline",children:[i(y.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:i("img",{loading:"lazy",src:"icons/GitHub.png",alt:"GitHub",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"GitHub: @csemahmud"]})})]})]}),u("div",{children:[i("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),i("p",{className:"text-sm mb-2",children:"For professional inquiries or collaboration opportunities:"}),u("p",{className:"text-sm mb-2",children:["📞 ",i("a",{href:"tel:+817043814193",className:"underline hover:text-white focus-visible:outline",children:"+81-70-4381-4193"})]}),u("p",{className:"text-sm",children:["📧 ",i("a",{href:"mailto:lone.wolf.mahmud@gmail.com",className:"underline hover:text-white focus-visible:outline",children:"lone.wolf.mahmud@gmail.com"})]})]})]}),e===S.Welcome&&u(y.div,{className:"fixed bottom-0 left-0 right-0 z-20 flex flex-col md:flex-row items-center justify-center text-center bg-black text-white gap-4 pb-10 pt-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i("p",{className:"text-gray-200 text-sm md:text-base",children:"Click Start to continue your Kanji journey..."}),i(y.div,{whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},children:u("div",{className:"relative group inline-block",children:[i(H,{onClick:t,"aria-label":"Start Quiz",children:"Start"}),i("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-3 py-1 text-sm text-white bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap",children:u("span",{className:"flex gap-1",children:[i("span",{children:"Start"}),i("span",{children:"Quiz"})]})})]})})]})]}),Kr=({qLength:e,currentQuestion:t,currentIndex:r,selectedMeaning:n,selectedReading:s,setSelectedMeaning:a,setSelectedReading:o,showAnswer:d,score:l,remainingTime:c,mode:m,topViewDivRef:h,handleAnswer:p,handleNext:g,handleSkip:b,resetQuiz:w,handleFinish:x})=>{const T=f.useRef(null);return f.useEffect(()=>{d&&T.current&&T.current.scrollIntoView({behavior:"smooth",block:"start"})},[d]),f.useEffect(()=>{if(h.current){const E=document.querySelector("#header1"),O=E?E.clientHeight:0,j=h.current.getBoundingClientRect().top+window.scrollY-O;window.scrollTo({top:j,behavior:"smooth"})}},[]),t?u(y.div,{id:"topViewDiv",role:"main","aria-labelledby":"kanji-question-title",ref:h,className:"w-full max-w-3xl mx-auto px-4 py-8 space-y-6 bg-[#1e1e2f] text-white rounded-xl shadow-lg transition-all duration-300",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:[u(de,{children:[u("title",{children:[$," | Play"]}),i("meta",{name:"description",content:"Test your Japanese Kanji knowledge with this interactive quiz app. Supports JLPT N5 to N1 levels."}),i("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i("meta",{name:"theme-color",content:"#1f2937"}),i("meta",{property:"og:title",content:$}),i("meta",{property:"og:description",content:"Master Kanji with fun, fast-paced quizzes! Designed for learners at all JLPT levels."}),i("meta",{property:"og:type",content:"website"}),i("meta",{property:"og:image",content:"/screenshots/app_demo_kanji.png"})]}),u("div",{className:"text-center text-sm text-gray-300 tracking-wide",children:["Question ",i("span",{className:"font-semibold text-white/90",children:r+1})," of ",e]}),u("div",{className:"text-center",role:"region","aria-label":"Kanji Prompt Section",children:[i("div",{id:"kanji-question-title",className:"text-7xl font-extrabold text-white/90 drop-shadow mb-2",children:t.prompt}),u("p",{className:"text-sm text-gray-200","aria-label":"Instruction to select correct meaning and reading",children:["Select the correct ",i("span",{className:"font-medium text-white/90",children:"meaning"})," and ",i("span",{className:"font-medium text-white/90",children:"reading"})]})]}),i(D,{variant:"dark",className:"bg-[#2a2a40] border border-gray-600",footer:i(Fr,{qLength:e,currentQuestion:t,currentIndex:r,showAnswer:d,selectedMeaning:n,selectedReading:s,correctMeaning:t.answer.meaning.correct,correctReading:t.answer.reading.correct,score:l,remainingTime:c,onSubmit:p,onNext:g,onSkip:b,resetQuiz:w,handleFinish:x}),children:!d&&u("div",{className:"flex flex-col md:flex-row gap-6",role:"region","aria-label":"Answer choices for meaning and pronunciation",children:[i(lt,{choices:t.answer.meaning.choices,selected:n,currentIndex:r,mode:m,variant:"Meaning",onSelect:a}),i(lt,{choices:t.answer.reading.choices,selected:s,currentIndex:r,mode:m,variant:"Pronunciation",onSelect:o})]})}),i("div",{ref:T})]}):i("div",{className:"w-full max-w-3xl mx-auto px-4 py-8 text-center text-red-500",children:"Error: Question data is not available."})},ue=e=>`${"/khans_kanji_english_practice/".replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`,qr=e=>ue(`important/${e}`),Jr=e=>ue(`fallbacks/${e}`),Ur=0,Br=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch{return!1}},Wr=e=>ue(`${Cr.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`),mt=async(e,t)=>{try{const r=await fetch(ue(e));if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.statusText}`);const n=await r.arrayBuffer(),s=Lt(n,{type:"array"}),a=s.Sheets[s.SheetNames[Ur]];if(!a)return console.warn(`⚠️ Sheet not found in file: ${e}`),[];const d=Mt.sheet_to_json(a).map(h=>{const p={};for(const g in h)h.hasOwnProperty(g)&&(p[g.toLowerCase()]=h[g]);return p}),l=h=>typeof h.kanji=="string"&&h.kanji.trim()!==""&&typeof h.hiragana=="string"&&h.hiragana.trim()!==""&&typeof h.english=="string"&&h.english.trim()!=="",c=d.filter(l);return c.length===0&&console.warn(`⚠️ No valid kanji rows parsed from file: ${e}`),await Promise.all(c.map(async h=>{let p;return typeof h.imageUrl=="string"&&h.imageUrl.trim()?p=h.imageUrl.trim():typeof h.imagename=="string"&&h.imagename.trim()&&(p=Wr(h.imagename.trim())),p&&(await Br(p)||(console.warn(`⚠️ Image not found: ${p} — skipping`),p=void 0)),{id:t.current++,kanji:h.kanji.trim(),hiragana:h.hiragana.trim(),english:h.english.trim(),imageUrl:p}}))}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(`❌ Failed to load Excel file: ${e}`,n),[]}},Vr=4,At="⬜",ce=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},Zr=(e,t,r,n,s)=>{const a=Array.from(new Set(e.filter(o=>o.id!==t).map(r).filter(o=>o&&o!==s)));return a.length<n&&console.warn(`Only ${a.length} unique distractors available for: ${s}`),ce(a).slice(0,n)},Gr=(e,t,r)=>{const n=new Set([e,...t]),s=Array.from(n);for(;s.length<r;)s.push(At);let o=ce(s).slice(0,r);return o.includes(e)||(o[Math.floor(Math.random()*r)]=e),ce(o)},Qr=(e,t,r=Vr)=>{const n=Array.from(new Map(e.map(a=>[a.id,a])).values());n.length<r&&console.warn(`Kanji list has only ${n.length} items. Some questions may have padded choices.`);const s=(a,o,d)=>{const l=Zr(n,a,d,r-1,o),c=Gr(o,l,r);return{correct:o,choices:c}};return ce(n).map(a=>{const o=t===P.EN_TO_JP?a.english:a.kanji,d=s(a.id,t===P.EN_TO_JP?a.kanji:a.english,t===P.EN_TO_JP?h=>h.kanji:h=>h.english),l=a.hiragana||At,c=s(a.id,l,h=>h.hiragana),m={meaning:d,reading:c};return{id:a.id,prompt:o,answer:m,imageUrl:a.imageUrl}})};function ft(e,t){let r=0;const n={...t,total:t.total+1};return e===!0?(r=te,n.currentScore+=r,n.correctAnswers+=1):e===!1?(r=He,n.currentScore+=r,n.wrongAnswers+=1):e===null&&(r=ze,n.currentScore+=r),{updatedScore:n,delta:r}}const je=e=>e>0?"+"+e:e.toString(),Yr={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.2}}},ht={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};function Xr(e){const t=Math.floor(e/60),n=`0${e%60}`;return`${t}:${n}`}const en=()=>u(y.div,{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center px-4 py-6 sm:py-8",variants:Yr,initial:"hidden",animate:"visible",children:[u(de,{children:[u("title",{children:[$," | Welcome"]}),i("meta",{name:"description",content:"Test your Japanese Kanji knowledge with this interactive quiz app. Supports JLPT N5 to N1 levels."}),i("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i("meta",{name:"theme-color",content:"#1f2937"}),i("meta",{property:"og:title",content:$}),i("meta",{property:"og:description",content:"Master Kanji with fun, fast-paced quizzes! Designed for learners at all JLPT levels."}),i("meta",{property:"og:type",content:"website"}),i("meta",{property:"og:image",content:"/screenshots/app_demo_kanji.png"})]}),u("div",{className:"w-full max-w-3xl space-y-6",children:[u(y.section,{variants:ht,"aria-labelledby":"developer-heading",className:"flex flex-col sm:flex-row items-center gap-4 bg-gray-800 border border-gray-700 p-4 sm:p-6 rounded-lg shadow-md",children:[i(Sr,{src:qr("khan_1.JPG"),fallbackSrc:Jr("profile_fallback.jpg"),alt:"Khan Mahmudul Hasan",className:"w-28 h-36 sm:w-36 sm:h-44 object-cover rounded-xl border-2 border-gray-700 shadow-md"}),u("div",{className:"flex-1 space-y-2 text-sm sm:text-base",children:[i("h1",{id:"developer-heading",className:"text-xl sm:text-2xl font-bold text-white",children:"Developer: Khan Mahmudul Hasan"}),i("p",{className:"text-gray-300 leading-relaxed",children:"B.Sc. and M.Sc. in Computer Science and Engineering. Passionate about education, technology, and cross-cultural communication. Living in Japan and developing tools for Japanese language learners. Skilled in English, Japanese (JLPT N3), React, TypeScript, and modern web technologies."})]})]}),i(y.div,{variants:ht,children:u(D,{title:`Welcome to ${$}`,description:"This Kanji Quiz app supports all learners aiming to master Japanese Kanji efficiently.",variant:"dark",className:"bg-gray-800 text-white shadow-lg border border-gray-700",footer:u("div",{className:"space-y-2 text-sm text-gray-300",children:[i("h3",{className:"text-base font-semibold text-white",children:"Rules:"}),u("ul",{className:"list-disc list-inside space-y-1",children:[i("li",{children:"Select Game Mode: 漢字 to En or En to 漢字"}),i("li",{children:"Choose JLPT Level (N5–N1). If unselected, questions are combined."}),u("li",{children:["Quiz time: ",Xr(W)," minute"]}),u("li",{children:["Marks — Correct: ",je(te),", Wrong: ",je(He),", Skipped: ",je(ze)]}),i("li",{children:"Skip if unsure. Wrong answers deduct points."})]})]}),children:[i(ee,{})," "]})})]})]}),tn=({score:e,isTimedUp:t,resetQuiz:r})=>{f.useEffect(()=>{t&&Me.fire({title:"Timed Out",text:"Sorry, Quiz Time Has Finished !!!",icon:"error",confirmButtonText:"OK",background:"#1f2937",color:"#f3f4f6",customClass:{confirmButton:"px-4 py-2 bg-red-600 text-white rounded"}})},[t]);const n=e.total!==0?Math.min(100,Math.round(e.currentScore/(e.total*te)*100)):0;let s="",a="";return n>=90?(s="Excellent! You're mastering these Kanji!",a="🎉🔥"):n>=70?(s="Good job! Keep up the great work.",a="👏😊"):n>=50?(s="You're getting there! Keep practicing.",a="💪📖"):(s="Don't worry! Practice makes perfect.",a="🙌✨"),u(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col md:flex-row gap-6 mt-6 w-full justify-center px-4",children:[u(de,{children:[u("title",{children:[$," | Finish"]}),i("meta",{name:"description",content:"Test your Japanese Kanji knowledge with this interactive quiz app. Supports JLPT N5 to N1 levels."}),i("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i("meta",{name:"theme-color",content:"#1f2937"}),i("meta",{property:"og:title",content:$}),i("meta",{property:"og:description",content:"Master Kanji with fun, fast-paced quizzes! Designed for learners at all JLPT levels."}),i("meta",{property:"og:type",content:"website"}),i("meta",{property:"og:image",content:"/screenshots/app_demo_kanji.png"})]}),i(y.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.4},className:"w-full md:max-w-[300px]",children:u(D,{title:"🎌 Thank you for attending the Kanji Quiz!",description:"📊 Here is your final score",variant:"answer_choices",footer:u("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4 w-full",children:[i("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Feel free to try again anytime! 🔁"}),i(H,{variant:"secondary",onClick:r,children:"🔄 Try Again"})]}),className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 text-lg font-bold",children:[i(St,{score:e.currentScore,total:e.total,correctAnswers:e.correctAnswers,wrongAnswers:e.wrongAnswers}),u("div",{className:"mt-4 text-center",role:"alert",children:[u("p",{className:"text-xl",children:["🏁 Score: ",u("span",{className:"font-bold",children:[n,"%"]})]}),u("p",{className:"italic text-sm text-gray-700 dark:text-gray-300 mt-2",children:[a," ",s]})]})]})},"score")]},"final-score-container")};function rn({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const pt=f.forwardRef(rn);function nn({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"}))}const an=f.forwardRef(nn);function sn({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const on=f.forwardRef(sn);function ln({title:e,titleId:t,...r},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cn=f.forwardRef(ln),dn=({mode:e,setMode:t,level:r,setLevel:n,isLoading:s,error:a,questionList:o,qLength:d,currentQuestion:l,currentIndex:c,selectedMeaning:m,selectedReading:h,setSelectedMeaning:p,setSelectedReading:g,showAnswer:b,score:w,quizState:x,remainingTime:T,isTimedUp:E,topViewDivRef:O,handleAnswer:L,handleNext:j,handleSkip:_,resetQuiz:k,handleFinish:M})=>{const K=()=>{switch(x){case S.Welcome:return i(en,{});case S.Play:return l?i(Kr,{qLength:d,currentQuestion:l,currentIndex:c,selectedMeaning:m,selectedReading:h,setSelectedMeaning:p,setSelectedReading:g,showAnswer:b,score:w,remainingTime:T,mode:e,topViewDivRef:O,handleAnswer:L,handleNext:j,handleSkip:_,resetQuiz:k,handleFinish:M}):null;case S.Finish:return i(tn,{score:w,resetQuiz:k,isTimedUp:E});default:return u("div",{className:"flex items-center justify-center gap-2 mt-8 text-yellow-500",children:[i(pt,{className:"w-5 h-5"}),i("span",{children:"Unknown quiz state."})]})}};return s?u("div",{className:"flex items-center justify-center gap-2 text-xl mt-10 text-blue-500","aria-live":"polite",children:[i(pr,{className:"w-6 h-6 animate-spin"}),i("span",{children:"Loading kanji data..."})]}):a?u("div",{className:"flex items-center justify-center gap-2 text-red-500 mt-10","aria-live":"polite",children:[i(cn,{className:"w-5 h-5"}),u("span",{children:["Error loading kanji data:"," ",typeof a=="string"?a:(a==null?void 0:a.message)??"Unknown error"]})]}):o!=null&&o.length?l?c>=o.length?u("div",{className:"flex items-center justify-center gap-2 mt-10 text-green-500","aria-live":"polite",children:[i(on,{className:"w-5 h-5"}),u("span",{children:["Quiz complete! Your score: ",w.currentScore]})]}):u("div",{className:"relative min-h-screen bg-gray-100 text-gray-900 flex flex-col mt-0 sm:mt-6",children:[i(Hr,{opacity:.05}),i(zr,{opacity:.05}),u("main",{className:"flex-1 py-2 sm:py-5 px-3 sm:px-6 md:px-8 flex flex-col items-center gap-4 relative z-10",children:[i("div",{className:"w-full max-w-4xl",children:i(Ir,{mode:e,setMode:t,level:r,setLevel:n,currentIndex:c,quizState:x})}),i("div",{className:"w-full max-w-4xl flex-1",children:K()})]})]}):u("div",{className:"flex items-center justify-center gap-2 mt-10 text-yellow-500","aria-live":"polite",children:[i(pt,{className:"w-5 h-5"}),i("span",{children:"No current question loaded."})]}):u("div",{className:"flex items-center justify-center gap-2 text-gray-500 mt-10","aria-live":"polite",children:[i(an,{className:"w-5 h-5"}),i("span",{children:"No kanji data available. Please check your connection or try again later."})]})},un=({mode:e,setMode:t,level:r,setLevel:n,isLoading:s,error:a,questionList:o,qLength:d,currentQuestion:l,currentIndex:c,selectedMeaning:m,selectedReading:h,setSelectedMeaning:p,setSelectedReading:g,showAnswer:b,score:w,quizState:x,remainingTime:T,isTimedUp:E,topViewDivRef:O,handleAnswer:L,handleNext:j,handleSkip:_,resetQuiz:k,handleFinish:M})=>i(dn,{mode:e,setMode:t,level:r,setLevel:n,isLoading:s,error:a,questionList:o,qLength:d,currentQuestion:l,currentIndex:c,selectedMeaning:m,selectedReading:h,setSelectedMeaning:p,setSelectedReading:g,showAnswer:b,score:w,quizState:x,remainingTime:T,isTimedUp:E,topViewDivRef:O,handleAnswer:L,handleSkip:_,handleNext:j,resetQuiz:k,handleFinish:M}),mn={async loadKanjiData(e=null,t){let r=[];e&&ke[e]?(r=await mt(ke[e],t),console.log("✅ Loaded data for level:",e,r)):(r=(await Promise.all(Object.values(ke).map(a=>mt(a,t)))).flat(),console.log("✅ Loaded combined data for all levels:",r));const n=s=>typeof s.kanji=="string"&&typeof s.hiragana=="string"&&typeof s.english=="string";return r.filter(n)}},fn=(e=null)=>{const[t,r]=f.useState([]),[n,s]=f.useState(!0),[a,o]=f.useState(null),d=f.useRef(0);return f.useEffect(()=>{(async()=>{try{s(!0),o(null);const c=await mn.loadKanjiData(e,d);r(c),c.length===0&&console.warn("⚠️ Loaded kanji list is empty."),console.log("✅ Final kanjiList passed to generateKanjiQuestions:",c)}catch(c){const m=c instanceof Error?c.message:String(c);console.error("❌ Kanji load failed:",m),o(new Error(`Failed to load kanji data for level ${e??"ALL"}: ${m}`))}finally{s(!1)}})()},[e]),{kanjiList:t,isLoading:n,error:a}};let I=null;const hn=(e,t,r)=>{let n=e;I&&clearInterval(I),t(n),I=setInterval(()=>{n-=1,t(n),n<=0&&(clearInterval(I),I=null,r())},1e3)},ie=()=>{I&&(clearInterval(I),I=null)},gt={currentScore:0,total:0,correctAnswers:0,wrongAnswers:0},pn=(e,t)=>{const[r,n]=f.useState([]),[s,a]=f.useState(0),[o,d]=f.useState(null),[l,c]=f.useState(null),[m,h]=f.useState(gt),[p,g]=f.useState(!1),[b,w]=f.useState(!1),[x,T]=f.useState(S.Welcome),[E,O]=f.useState(W),[L,j]=f.useState(!1),_=f.useRef(null),k=v=>{T(v)},M=s<r.length?r[s]:null,K=r.length;f.useEffect(()=>{e.length>0&&J()},[e,t]),f.useEffect(()=>{x===S.Play&&r.length>0&&(ie(),O(W),hn(W,O,me),j(!1))},[x,r]);const me=()=>{ie(),s<r.length-1&&j(!0),k(S.Finish)},fe=()=>{a(0),h(gt),d(null),c(null),g(!1),w(!1)},he=(v,F,G)=>!G||!v||!F?null:v===G.answer.meaning.correct&&F===G.answer.reading.correct,q=()=>{setTimeout(()=>{const v=document.querySelector("#header1"),F=v?v.offsetHeight:0;if(_.current){const G=_.current.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:G-F,behavior:"smooth"})}},100)},pe=()=>{if(b)return;const v=he(o,l,M),{updatedScore:F}=ft(v,m);h(F),g(!0),q()},ge=()=>{w(!0);const{updatedScore:v}=ft(null,m);h(v),g(!0),d(null),c(null),q()},re=()=>{s<r.length-1&&(a(v=>v+1),d(null),c(null),g(!1),w(!1)),q()},J=()=>{ie(),O(W),j(!1),fe();const v=Qr(e,t);n(v),x===S.Finish&&k(S.Play),q()};return{quizState:x,handleQuizState:k,mode:t,questionList:r,qLength:K,currentQuestion:M,currentIndex:s,selectedMeaning:o,setSelectedMeaning:d,selectedReading:l,setSelectedReading:c,showAnswer:p,score:m,remainingTime:E,isTimedUp:L,topViewDivRef:_,handleAnswer:pe,handleSkip:ge,handleNext:re,resetQuiz:J,handleStartPlay:()=>{if(e.length===0){console.warn("Kanji list is empty. Cannot start quiz.");return}k(S.Play),J()},handleFinish:()=>s>=r.length-1?(ie(),k(S.Finish),!0):(console.warn("handleFinish() called before the last question. Ignored."),!1)}};function gn(){const[e,t]=f.useState(!1),[r,n]=f.useState(0),s=f.useRef(null),[a,o]=f.useState(P.JP_TO_EN),[d,l]=f.useState(null),{kanjiList:c,isLoading:m,error:h}=fn(d),{questionList:p,qLength:g,currentQuestion:b,currentIndex:w,handleAnswer:x,handleSkip:T,handleNext:E,selectedMeaning:O,selectedReading:L,setSelectedMeaning:j,setSelectedReading:_,showAnswer:k,score:M,quizState:K,remainingTime:me,isTimedUp:fe,topViewDivRef:he,resetQuiz:q,handleStartPlay:pe,handleFinish:ge}=pn(c,a);return f.useEffect(()=>{const re=()=>{const J=window.scrollY,ye=document.documentElement.scrollHeight-window.innerHeight,Ke=ye>0?J/ye*100:0;t(J>10),n(Ke)};return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[]),u(ee,{children:[i(de,{children:u("title",{children:[$," | JLPT N5–N1 Practice"]})}),u("div",{className:"flex flex-col min-h-screen bg-white dark:bg-[#1f1f1f] text-gray-800 dark:text-gray-100 transition-colors duration-300",children:[i(jt,{scrolled:e,ref:s,scrollProgress:r}),i("main",{className:"flex-grow px-4 sm:px-6 lg:px-8 py-6 mb-6 sm:mb-8 md:mb-10",children:i(un,{mode:a,setMode:o,level:d,setLevel:l,isLoading:m,error:h,questionList:p,qLength:g,currentQuestion:b,currentIndex:w,selectedMeaning:O,selectedReading:L,setSelectedMeaning:j,setSelectedReading:_,showAnswer:k,score:M,quizState:K,remainingTime:me,isTimedUp:fe,topViewDivRef:he,handleAnswer:x,handleSkip:T,handleNext:E,resetQuiz:q,handleFinish:ge})}),i(Dr,{quizState:K,handleStartPlay:pe})]})]})}zt.createRoot(document.getElementById("root")).render(i(f.StrictMode,{children:i(Tt,{children:i(gn,{})})}));
