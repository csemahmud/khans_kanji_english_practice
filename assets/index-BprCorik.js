var Tt=Object.defineProperty;var St=(e,t,r)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var R=(e,t,r)=>St(e,typeof t!="symbol"?t+"":t,r);import{r as Et,a as Ct,g as Re}from"./react-vendor-BtP0CW_r.js";import{r as p,R as w,m as y,S as _e,A as He,a as kt,u as Ot}from"./ui-libs-Bx-bPxCs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var pe={exports:{}},W={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De;function At(){if(De)return W;De=1;var e=Et(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,o,d){var m,f={},h=null,g=null;d!==void 0&&(h=""+d),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(g=o.ref);for(m in o)n.call(o,m)&&!a.hasOwnProperty(m)&&(f[m]=o[m]);if(c&&c.defaultProps)for(m in o=c.defaultProps,o)f[m]===void 0&&(f[m]=o[m]);return{$$typeof:t,type:c,key:h,ref:g,props:f,_owner:i.current}}return W.Fragment=r,W.jsx=l,W.jsxs=l,W}var qe;function jt(){return qe||(qe=1,pe.exports=At()),pe.exports}var $e=jt();const Y=$e.Fragment,s=$e.jsx,u=$e.jsxs;var X={},Ke;function Pt(){if(Ke)return X;Ke=1;var e=Ct();return X.createRoot=e.createRoot,X.hydrateRoot=e.hydrateRoot,X}var Rt=Pt(),ge,Ue;function _t(){if(Ue)return ge;Ue=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,o,d;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(o=c;o--!==0;)if(!i(a[o],l[o]))return!1;return!0}var m;if(t&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(m=a.entries();!(o=m.next()).done;)if(!l.has(o.value[0]))return!1;for(m=a.entries();!(o=m.next()).done;)if(!i(o.value[1],l.get(o.value[0])))return!1;return!0}if(r&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(m=a.entries();!(o=m.next()).done;)if(!l.has(o.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(o=c;o--!==0;)if(a[o]!==l[o])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(d=Object.keys(a),c=d.length,c!==Object.keys(l).length)return!1;for(o=c;o--!==0;)if(!Object.prototype.hasOwnProperty.call(l,d[o]))return!1;if(e&&a instanceof Element)return!1;for(o=c;o--!==0;)if(!((d[o]==="_owner"||d[o]==="__v"||d[o]==="__o")&&a.$$typeof)&&!i(a[d[o]],l[d[o]]))return!1;return!0}return a!==a&&l!==l}return ge=function(l,c){try{return i(l,c)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}},ge}var $t=_t();const Lt=Re($t);var ye,Be;function It(){if(Be)return ye;Be=1;var e=function(t,r,n,i,a,l,c,o){if(!t){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,i,a,l,c,o],f=0;d=new Error(r.replace(/%s/g,function(){return m[f++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return ye=e,ye}var Ft=It();const Je=Re(Ft);var be,We;function Mt(){return We||(We=1,be=function(t,r,n,i){var a=n?n.call(i,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(r),d=0;d<l.length;d++){var m=l[d];if(!o(m))return!1;var f=t[m],h=r[m];if(a=n?n.call(i,f,h,m):void 0,a===!1||a===void 0&&f!==h)return!1}return!0}),be}var zt=Mt();const Ht=Re(zt);var dt=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(dt||{}),xe={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ve=Object.values(dt),Le={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Dt=Object.entries(Le).reduce((e,[t,r])=>(e[r]=t,e),{}),C="data-rh",K={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},U=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},qt=e=>{let t=U(e,"title");const r=U(e,K.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=U(e,K.DEFAULT_TITLE);return t||n||void 0},Kt=e=>U(e,K.ON_CHANGE_CLIENT_STATE)||(()=>{}),ve=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Ut=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const i=Object.keys(n);for(let a=0;a<i.length;a+=1){const c=i[a].toLowerCase();if(e.indexOf(c)!==-1&&n[c])return r.concat(n)}}return r},[]),Bt=e=>console&&typeof console.warn=="function"&&console.warn(e),V=(e,t,r)=>{const n={};return r.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Bt(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,a)=>{const l={};a.filter(o=>{let d;const m=Object.keys(o);for(let h=0;h<m.length;h+=1){const g=m[h],b=g.toLowerCase();t.indexOf(b)!==-1&&!(d==="rel"&&o[d].toLowerCase()==="canonical")&&!(b==="rel"&&o[b].toLowerCase()==="stylesheet")&&(d=b),t.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(d=g)}if(!d||!o[d])return!1;const f=o[d].toLowerCase();return n[d]||(n[d]={}),l[d]||(l[d]={}),n[d][f]?!1:(l[d][f]=!0,!0)}).reverse().forEach(o=>i.push(o));const c=Object.keys(l);for(let o=0;o<c.length;o+=1){const d=c[o],m={...n[d],...l[d]};n[d]=m}return i},[]).reverse()},Jt=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},Wt=e=>({baseTag:Ut(["href"],e),bodyAttributes:ve("bodyAttributes",e),defer:U(e,K.DEFER),encode:U(e,K.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ve("htmlAttributes",e),linkTags:V("link",["rel","href"],e),metaTags:V("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:V("noscript",["innerHTML"],e),onChangeClientState:Kt(e),scriptTags:V("script",["src","innerHTML"],e),styleTags:V("style",["cssText"],e),title:qt(e),titleAttributes:ve("titleAttributes",e),prioritizeSeoTags:Jt(e,K.PRIORITIZE_SEO_TAGS)}),ut=e=>Array.isArray(e)?e.join(""):e,Vt=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},we=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Vt(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Ge=(e,t)=>({...e,[t]:void 0}),Gt=["noscript","script","style"],Oe=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),mt=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Yt=(e,t,r,n)=>{const i=mt(r),a=ut(t);return i?`<${e} ${C}="true" ${i}>${Oe(a,n)}</${e}>`:`<${e} ${C}="true">${Oe(a,n)}</${e}>`},Zt=(e,t,r=!0)=>t.reduce((n,i)=>{const a=i,l=Object.keys(a).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,m)=>{const f=typeof a[m]>"u"?m:`${m}="${Oe(a[m],r)}"`;return d?`${d} ${f}`:f},""),c=a.innerHTML||a.cssText||"",o=Gt.indexOf(e)===-1;return`${n}<${e} ${C}="true" ${l}${o?"/>":`>${c}</${e}>`}`},""),ft=(e,t={})=>Object.keys(e).reduce((r,n)=>{const i=Le[n];return r[i||n]=e[n],r},t),Qt=(e,t,r)=>{const n={key:t,[C]:!0},i=ft(r,n);return[w.createElement("title",i,t)]},re=(e,t)=>t.map((r,n)=>{const i={key:n,[C]:!0};return Object.keys(r).forEach(a=>{const c=Le[a]||a;if(c==="innerHTML"||c==="cssText"){const o=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:o}}else i[c]=r[a]}),w.createElement(e,i)}),S=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Qt(e,t.title,t.titleAttributes),toString:()=>Yt(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ft(t),toString:()=>mt(t)};default:return{toComponent:()=>re(e,t),toString:()=>Zt(e,t,r)}}},Xt=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const i=we(e,xe.meta),a=we(t,xe.link),l=we(r,xe.script);return{priorityMethods:{toComponent:()=>[...re("meta",i.priority),...re("link",a.priority),...re("script",l.priority)],toString:()=>`${S("meta",i.priority,n)} ${S("link",a.priority,n)} ${S("script",l.priority,n)}`},metaTags:i.default,linkTags:a.default,scriptTags:l.default}},er=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:i,noscriptTags:a,styleTags:l,title:c="",titleAttributes:o,prioritizeSeoTags:d}=e;let{linkTags:m,metaTags:f,scriptTags:h}=e,g={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:g,linkTags:m,metaTags:f,scriptTags:h}=Xt(e)),{priority:g,base:S("base",t,n),bodyAttributes:S("bodyAttributes",r,n),htmlAttributes:S("htmlAttributes",i,n),link:S("link",m,n),meta:S("meta",f,n),noscript:S("noscript",a,n),script:S("script",h,n),style:S("style",l,n),title:S("title",{title:c,titleAttributes:o},n)}},Ae=er,ee=[],ht=!!(typeof window<"u"&&window.document&&window.document.createElement),je=class{constructor(e,t){R(this,"instances",[]);R(this,"canUseDOM",ht);R(this,"context");R(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?ee:this.instances,add:e=>{(this.canUseDOM?ee:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?ee:this.instances).indexOf(e);(this.canUseDOM?ee:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Ae({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},tr={},pt=w.createContext(tr),F,gt=(F=class extends p.Component{constructor(r){super(r);R(this,"helmetData");this.helmetData=new je(this.props.context||{},F.canUseDOM)}render(){return w.createElement(pt.Provider,{value:this.helmetData.value},this.props.children)}},R(F,"canUseDOM",ht),F),H=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${C}]`),i=[].slice.call(n),a=[];let l;return t&&t.length&&t.forEach(c=>{const o=document.createElement(e);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")o.innerHTML=c.innerHTML;else if(d==="cssText")o.styleSheet?o.styleSheet.cssText=c.cssText:o.appendChild(document.createTextNode(c.cssText));else{const m=d,f=typeof c[m]>"u"?"":c[m];o.setAttribute(d,f)}o.setAttribute(C,"true"),i.some((d,m)=>(l=m,o.isEqualNode(d)))?i.splice(l,1):a.push(o)}),i.forEach(c=>{var o;return(o=c.parentNode)==null?void 0:o.removeChild(c)}),a.forEach(c=>r.appendChild(c)),{oldTags:i,newTags:a}},Pe=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(C),i=n?n.split(","):[],a=[...i],l=Object.keys(t);for(const c of l){const o=t[c]||"";r.getAttribute(c)!==o&&r.setAttribute(c,o),i.indexOf(c)===-1&&i.push(c);const d=a.indexOf(c);d!==-1&&a.splice(d,1)}for(let c=a.length-1;c>=0;c-=1)r.removeAttribute(a[c]);i.length===a.length?r.removeAttribute(C):r.getAttribute(C)!==l.join(",")&&r.setAttribute(C,l.join(","))},rr=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=ut(e)),Pe("title",t)},Ye=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:i,linkTags:a,metaTags:l,noscriptTags:c,onChangeClientState:o,scriptTags:d,styleTags:m,title:f,titleAttributes:h}=e;Pe("body",n),Pe("html",i),rr(f,h);const g={baseTag:H("base",r),linkTags:H("link",a),metaTags:H("meta",l),noscriptTags:H("noscript",c),scriptTags:H("script",d),styleTags:H("style",m)},b={},v={};Object.keys(g).forEach(x=>{const{newTags:k,oldTags:A}=g[x];k.length&&(b[x]=k),A.length&&(v[x]=g[x].oldTags)}),t&&t(),o(e,b,v)},G=null,nr=e=>{G&&cancelAnimationFrame(G),e.defer?G=requestAnimationFrame(()=>{Ye(e,()=>{G=null})}):(Ye(e),G=null)},ar=nr,Ze=class extends p.Component{constructor(){super(...arguments);R(this,"rendered",!1)}shouldComponentUpdate(t){return!Ht(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const i=Wt(t.get().map(a=>{const l={...a.props};return delete l.context,l}));gt.canUseDOM?ar(i):Ae&&(n=Ae(i)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},ke,ir=(ke=class extends p.Component{shouldComponentUpdate(e){return!Lt(Ge(this.props,"helmetData"),Ge(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Je(Ve.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ve.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Je(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return w.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:i,...a}=n.props,l=Object.keys(a).reduce((o,d)=>(o[Dt[d]||d]=a[d],o),{});let{type:c}=n;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(n,i),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,l,i);break;default:t=this.mapObjectTypeChildren(n,t,l,i);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof je)){const i=n;n=new je(i.context,!0),delete r.helmetData}return n?w.createElement(Ze,{...r,context:n.value}):w.createElement(pt.Consumer,null,i=>w.createElement(Ze,{...r,context:i}))}},R(ke,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ke);const sr={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white"},I=({children:e,onClick:t,type:r="button",variant:n="primary",disabled:i=!1,className:a=""})=>s(y.button,{whileTap:{scale:.97},whileHover:i?{}:{scale:1.03},type:r,onClick:t,disabled:i,className:`
        px-5 py-2 rounded-xl font-medium text-sm transition-all
        focus:outline-none focus:ring-2 focus:ring-offset-2
        ${sr[n]}
        ${i?"opacity-50 cursor-not-allowed":""}
        ${a}
      `,children:e});function lr({title:e,titleId:t,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const or=p.forwardRef(lr);function cr({title:e,titleId:t,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const dr=p.forwardRef(cr);function ur({title:e,titleId:t,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const mr=p.forwardRef(ur);function fr({title:e,titleId:t,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Ne=p.forwardRef(fr),M=({title:e,description:t,children:r,footer:n,className:i="",variant:a="default"})=>{const l="rounded-2xl px-6 py-6 sm:py-2 w-full border shadow transition-all duration-300",c={default:"bg-white text-gray-900 border-gray-200",answer_choices:"bg-white text-gray-900 border-gray-200",dark:"bg-gray-900 text-gray-100 border-gray-700",correct:"bg-green-900 text-green-100 border-green-600",incorrect:"bg-red-900 text-red-100 border-red-600"},o={correct:s(or,{className:"h-0 sm:h-6 w-0 sm:w-6 text-green-400","aria-hidden":"true",role:"presentation"}),incorrect:s(mr,{className:"h-0 sm:h-6 w-0 sm:w-6 text-red-400","aria-hidden":"true",role:"presentation"}),default:s(Ne,{className:"h-0 sm:h-6 w-0 sm:w-6 text-blue-400","aria-hidden":"true",role:"presentation"}),answer_choices:s(Ne,{className:"h-0 sm:h-6 w-0 sm:w-6 text-blue-400","aria-hidden":"true",role:"presentation"}),dark:s(Ne,{className:"h-0 sm:h-6 w-0 sm:w-6 text-yellow-400","aria-hidden":"true",role:"presentation"})},d=a==="dark"||a==="correct"||a==="incorrect"?"border-gray-700":"border-gray-200",m=a==="answer_choices"||a==="dark"||a==="correct"||a==="incorrect"?"max-w-[95%] sm:max-w-2xl md:max-w-3xl":"max-w-md",f=e?`card-title-${Math.random().toString(36).substr(2,9)}`:void 0;return u(y.article,{role:"region","aria-labelledby":e?f:void 0,className:`${l} ${c[a]} ${m} ${i} mx-auto`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e&&u("header",{className:"flex items-center justify-center text-center gap-3 mb-1 sm:mb-4","aria-label":"Card header",children:[s("div",{children:o[a]}),u("div",{children:[s("h3",{id:f,className:"text-lg sm:text-xl font-semibold leading-tight",children:e}),t&&s("p",{className:`text-sm mt-1 break-words ${a==="dark"||a==="correct"||a==="incorrect"?"text-gray-300":"text-gray-600"}`,children:t})]})]}),r&&s("section",{"aria-label":"Card content",className:"mb-1 sm:mb-4",children:r}),n&&s("footer",{className:`pt-4 border-t ${d}`,"aria-label":"Card footer",children:s("div",{className:"text-sm sm:text-base break-words",children:n})})]})},hr=({kanjiQuestion:e,className:t=""})=>!e.imageUrl||e.imageUrl.trim()===""?null:u(y.div,{role:"region","aria-label":`Illustration of kanji ${e.prompt}`,className:`bg-gray-900 text-white border border-gray-700 rounded-2xl shadow-md p-4 w-full max-w-2xl mx-auto ${t}`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[u("div",{className:"text-sm mb-3 font-semibold text-center sm:text-left",children:["Illustration for:"," ",s("span",{className:"text-green-400 text-lg",children:e.prompt})]}),s("div",{className:"w-full aspect-video bg-gray-800 rounded-xl overflow-hidden flex items-center justify-center",children:s("img",{src:e.imageUrl,alt:`Kanji Illustration - ${e.prompt}`,className:"object-contain w-full max-h-full",loading:"lazy"})})]}),pr=({fallbackSrc:e,...t})=>s("img",{...t,loading:"lazy",onError:r=>{const n=r.currentTarget;n.onerror=null,n.src=e}}),Qe=({label:e,options:t,selected:r,onChange:n,className:i="",name:a,id:l,"aria-label":c,"aria-describedby":o})=>{const d=p.useId(),m=l||d,f=h=>typeof h.label=="string"?h.label:h.stringLabel?h.stringLabel:String(h.value??"--SELECT--");return u("div",{className:`w-full max-w-xs ${i}`,children:[e&&s("label",{htmlFor:m,className:"block mb-1 text-gray-700 dark:text-gray-300 text-base font-semibold tracking-wide drop-shadow-sm",children:e}),u("div",{className:"relative",children:[s(y.select,{id:m,name:a,value:r===null?"":r,onChange:h=>{const g=h.target.value===""?null:h.target.value;n(g)},"aria-label":c||e,"aria-describedby":o,className:"appearance-none w-full bg-gray-800 text-white text-sm py-2 pl-3 pr-10 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",whileHover:{scale:1.02},whileFocus:{scale:1.02},children:t.map(h=>s("option",{value:h.value===null?"":h.value,className:h.value===null?"text-gray-400":"",children:f(h)},String(h.value)))}),s(dr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400 pointer-events-none"})]}),o&&s("p",{id:o,className:"sr-only",children:o})]})};var D=(e=>(e.N5="N5",e.N4="N4",e.N3="N3",e.N2="N2",e.N1="N1",e))(D||{});const Te={N5:"/docs/kanji_n5.xlsx",N4:"/docs/kanji_n4.xlsx",N3:"/docs/kanji_n3.xlsx",N2:"/docs/kanji_n2.xlsx",N1:"/docs/kanji_n1.xlsx"},Ie="Khan's　漢字　English Quiz",gr="漢字",yr="英語",Z=4,Fe=-1,Me=0,q=120,br="/Kanji_Images/",yt=({score:e,total:t,correctAnswers:r,wrongAnswers:n,className:i=""})=>{const a=t*Z,l=t>0?e/a*100:0;return u(y.div,{role:"region","aria-label":"Score summary",className:`bg-gray-900 text-white rounded-2xl shadow-xl p-6 w-full max-w-md mx-auto ${i}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s("h2",{className:"text-xl font-semibold text-blue-400 mb-5 text-center",tabIndex:0,children:"Your Score Summary"}),u("div",{className:"mb-5",children:[u("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[s("span",{children:"Score"}),u("span",{children:[e," / ",a]})]}),s("div",{className:"w-full h-4 bg-gray-700 rounded-full overflow-hidden",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l,children:s(y.div,{className:"h-full bg-blue-500",style:{width:`${l}%`},animate:{width:`${l}%`},transition:{duration:.5}})})]}),u("div",{className:"grid grid-cols-2 gap-4 text-sm mt-4",children:[u("div",{className:"bg-gray-800 rounded-xl p-4 text-center",role:"group","aria-label":`${r} correct answers`,children:[s("p",{className:"text-green-400 font-bold text-xl",children:r}),s("p",{className:"text-gray-300","aria-hidden":"true",children:"✔️"}),s("span",{className:"sr-only",children:"Correct answers"})]}),u("div",{className:"bg-gray-800 rounded-xl p-4 text-center",role:"group","aria-label":`${n} wrong answers`,children:[s("p",{className:"text-red-400 font-bold text-xl",children:n}),s("p",{className:"text-gray-300","aria-hidden":"true",children:"❌"}),s("span",{className:"sr-only",children:"Wrong answers"})]})]})]})},xr=({timeLeft:e,totalDuration:t,className:r=""})=>{const n=a=>{const l=Math.floor(a/60).toString().padStart(2,"0"),c=(a%60).toString().padStart(2,"0");return`${l}:${c}`},i=t>0?e/t*100:0;return u(y.div,{role:"timer","aria-label":`Timer showing ${n(e)} remaining`,className:`bg-gray-900 text-white rounded-2xl shadow-lg w-full max-w-sm mx-auto p-5 ${r}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[s("div",{className:"text-center text-lg font-semibold text-blue-400 mb-3",children:"⏱️ Time Remaining"}),s("div",{className:"relative w-full h-4 rounded-full bg-gray-700 overflow-hidden","aria-label":`Progress bar with ${i.toFixed(1)}% time left`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i,children:s(y.div,{className:"absolute top-0 left-0 h-full bg-green-400",style:{width:`${i}%`},animate:{width:`${i}%`},transition:{duration:.5}})}),s("div",{className:"mt-3 text-center text-3xl font-bold text-green-400 tracking-widest",children:n(e)})]})};var O=(e=>(e.EN_TO_JP="EN_TO_JP",e.JP_TO_EN="JP_TO_EN",e))(O||{}),E=(e=>(e.Welcome="WELCOME",e.Play="PLAY",e.Finish="FINISH",e))(E||{}),bt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xe=w.createContext&&w.createContext(bt),vr=["attr","size","title"];function wr(e,t){if(e==null)return{};var r=Nr(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nr(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(n){Tr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tr(e,t,r){return t=Sr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sr(e){var t=Er(e,"string");return typeof t=="symbol"?t:t+""}function Er(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e){return e&&e.map((t,r)=>w.createElement(t.tag,ae({key:r},t.attr),xt(t.child)))}function ze(e){return t=>w.createElement(Cr,ne({attr:ae({},e.attr)},t),xt(e.child))}function Cr(e){var t=r=>{var{attr:n,size:i,title:a}=e,l=wr(e,vr),c=i||r.size||"1em",o;return r.className&&(o=r.className),e.className&&(o=(o?o+" ":"")+e.className),w.createElement("svg",ne({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:o,style:ae(ae({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&w.createElement("title",null,a),e.children)};return Xe!==void 0?w.createElement(Xe.Consumer,null,r=>t(r)):t(bt)}function kr(e){return ze({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},child:[]}]})(e)}function Or(e){return ze({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(e)}function Ar(e){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"},child:[]}]})(e)}const tt=async(e,t,r)=>(await _e.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:r,cancelButtonText:"Cancel",background:"#1f2937",color:"#f3f4f6",customClass:{confirmButton:"px-4 py-2 bg-red-600 text-white rounded",cancelButton:"px-4 py-2 bg-blue-600 text-white rounded"}})).isConfirmed,rt=async()=>{await _e.fire({toast:!0,position:"top-end",icon:"info",title:"Quiz reset!",showConfirmButton:!1,timer:1500,timerProgressBar:!0,background:"#1f2937",color:"#f3f4f6"})},jr=({mode:e,setMode:t,level:r,setLevel:n,currentIndex:i})=>{const a=p.useCallback(async c=>{if(!(!c||!Object.values(O).includes(c)))if(i===0)t(c);else{const o=c===O.JP_TO_EN?"漢字 TO EN":"EN TO 漢字";await tt("Confirm Mode Change",`Changing Quiz Mode will restart the quiz. Are you sure you want to change Quiz Mode to: ${o}?`,`Change to: ${o}`)&&(t(c),rt())}},[t,i]),l=p.useCallback(async c=>{if(i===0)n(c);else{const o=c??"Combined";await tt("Confirm Level Change",`Changing JLPT Level will restart the quiz. Are you sure you want to change to JLPT Level: ${o}?`,`Change to: ${o}`)&&(n(c),rt())}},[n,i]);return u("div",{className:"flex flex-col md:flex-row gap-4",children:[s(M,{"aria-label":"Quiz Mode Card",className:"bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-lg font-bold mb-2",footer:u("span",{tabIndex:0,className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 cursor-help break-words",title:`Currently selected mode is ${e===O.JP_TO_EN?"漢字 TO EN":"EN TO 漢字"}`,children:["Selected Mode: ",e]}),children:u("section",{"aria-labelledby":"quiz-mode-label",children:[s("h2",{id:"quiz-mode-label",className:"sr-only",children:"Quiz Mode Selection"}),s(Qe,{label:"Select Quiz Mode","aria-label":"Quiz Mode Selection","aria-describedby":"quiz-mode-desc",options:[{value:O.JP_TO_EN,label:u("span",{className:"flex items-center gap-2",children:[s(Or,{})," 漢字 TO EN"]}),stringLabel:"漢字 TO EN"},{value:O.EN_TO_JP,label:u("span",{className:"flex items-center gap-2",children:[s(kr,{})," EN TO 漢字"]}),stringLabel:"EN TO 漢字"}],selected:e,onChange:c=>{a(c)}}),s("p",{id:"quiz-mode-desc",className:"sr-only",children:"This dropdown allows you to switch between Kanji to English and English to Kanji quiz modes."})]})}),s(M,{"aria-label":"JLPT Level Card",className:"bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-lg font-bold mb-2",footer:u("span",{tabIndex:0,className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 cursor-help break-words",title:`Current JLPT Level: ${r??"All Levels Combined"}`,children:["Selected Level: ",r??"All Levels Combined"]}),children:u("section",{"aria-labelledby":"jlpt-level-label",children:[s("h2",{id:"jlpt-level-label",className:"sr-only",children:"JLPT Level Selection"}),s(Qe,{label:"Select JLPT Level (N5 to N1)","aria-label":"JLPT Level Selection","aria-describedby":"jlpt-level-desc",options:[{value:null,label:u("span",{className:"flex items-center gap-2",children:[s(Ar,{})," --SELECT--"]}),stringLabel:"--SELECT--"},{value:D.N5,label:"N5"},{value:D.N4,label:"N4"},{value:D.N3,label:"N3"},{value:D.N2,label:"N2"},{value:D.N1,label:"N1"}],selected:r,onChange:c=>{l(c)}}),s("p",{id:"jlpt-level-desc",className:"sr-only",children:"Select JLPT level from N5 to N1 or combine all levels."})]})})]})},nt=({title:e,choices:t,selected:r,variant:n="Meaning",onSelect:i})=>u("div",{className:"w-full space-y-4 text-center",children:[s("p",{className:"text-sm font-semibold text-gray-300",children:n==="Pronunciation"?"Select the pronunciation:":"Select the meaning:"}),n==="Meaning"&&s("div",{className:"text-6xl font-bold text-gray-100 tracking-wide",children:e}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.map(l=>s("button",{onClick:()=>i(l),className:`w-full px-4 py-2 rounded-lg text-sm font-semibold border transition-all duration-200 focus:outline-none
                ${r===l?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-gray-800 text-gray-200 border-gray-600 hover:bg-gray-700 hover:border-blue-400"}`,children:l},l))})]}),at=(e,t,r)=>e===null?`⚠️ ${r} Skipped`:e===t?`✅ ${r} Correct`:`❌ ${r} Wrong`,Se=e=>e>0?"+"+e:e.toString(),it=(e,t)=>e===null?"text-yellow-400":e===t?"text-green-400":"text-red-400",st=(e,t)=>e===null?"⚠️":e===t?"✔️":"❌",Pr=({qLength:e,currentQuestion:t,currentIndex:r,showAnswer:n,selectedMeaning:i,selectedReading:a,correctMeaning:l,correctReading:c,score:o,remainingTime:d,onSubmit:m,onNext:f,onSkip:h,resetQuiz:g,handleFinish:b})=>u("div",{className:"flex flex-col lg:flex-row gap-6 mt-6 w-full px-4 justify-center",children:[s("div",{className:"w-full lg:max-w-2xl",children:n?u(Y,{children:[s(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",children:u(M,{title:"Feedback",description:"Check your answers below:",className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[u("div",{className:"space-y-2 text-base sm:text-lg font-medium",children:[s("p",{children:at(i,l,"Meaning")}),s("p",{children:at(a,c,"Reading")}),u("p",{className:"flex items-center flex-wrap gap-x-4",children:[s("span",{className:"font-bold",children:t.prompt}),s("span",{className:"text-sm opacity-80",children:"Correct Answer:"})]}),u("p",{className:"flex flex-wrap items-center gap-x-6",children:[u("span",{className:`font-bold ${it(i,l)}`,children:[st(i,l)," ",l]}),u("span",{className:`font-bold ${it(a,c)}`,children:[st(a,c)," ",c]})]})]}),s("div",{className:"mt-4 max-w-sm mx-auto",children:s(hr,{kanjiQuestion:t})})]})},"feedback"),s(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",className:"fixed bottom-0 left-0 right-0 z-20 p-4 bg-white dark:bg-gray-900 border-t shadow-md flex flex-wrap justify-center gap-4 w-full",children:r===e-1?u(Y,{children:[s(I,{variant:"secondary",onClick:b,children:"Finish"}),s(I,{variant:"secondary",onClick:g,children:"Restart"})]}):s(I,{variant:"secondary",onClick:f,children:"Next Question"})},"action1")]}):u(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},role:"region","aria-live":"polite",className:"fixed bottom-0 left-0 right-0 z-20 p-4 bg-white dark:bg-gray-900 border-t shadow-md flex flex-wrap justify-center gap-4 w-full",children:[s(I,{onClick:h,variant:"secondary",children:"Skip"}),i&&a&&s(I,{onClick:m,children:"Submit Answer"})]},"action2")}),s(y.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.4},className:"w-full lg:max-w-sm",children:u(M,{title:"Score",description:`Correct: ${Se(Z)}, Wrong: ${Se(Fe)}, Skip: ${Se(Me)}`,className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100",footer:o.currentScore<0?s("span",{className:"text-sm text-red-400",children:"Try to answer carefully. Random guesses are hurting your score."}):null,children:[s(xr,{timeLeft:d,totalDuration:q}),s(yt,{score:o.currentScore,total:o.total,correctAnswers:o.correctAnswers,wrongAnswers:o.wrongAnswers})]})},"score")]}),Rr=()=>s("div",{className:"absolute inset-0 bg-[url('/pattern.svg')] opacity-5 dark:opacity-10 pointer-events-none z-0"}),_r=()=>u(Y,{children:[s("div",{"aria-hidden":"true",className:"absolute top-10 left-5 text-[10rem] font-bold text-gray-400 dark:text-gray-600 opacity-10 select-none pointer-events-none",children:gr}),s("div",{"aria-hidden":"true",className:"absolute bottom-10 right-5 text-[10rem] font-bold text-gray-400 dark:text-gray-600 opacity-10 select-none pointer-events-none",children:yr})]});function vt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=vt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ee(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=vt(e))&&(n&&(n+=" "),n+=t);return n}const wt=p.forwardRef(({scrolled:e,scrollProgress:t},r)=>{const[n,i]=p.useState(!1);p.useEffect(()=>{const l=()=>i(document.documentElement.classList.contains("dark"));l();const c=new MutationObserver(l);return c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>c.disconnect()},[]);const a=n?e?"rgba(31, 41, 55, 0.9)":"#1f2937":e?"rgba(229, 231, 235, 0.9)":"#ffffff";return s(He,{children:u(y.header,{ref:r,role:"banner",initial:!1,animate:{y:e?0:-10,opacity:1,backgroundColor:a,boxShadow:e?"0 2px 10px rgba(0, 0, 0, 0.1)":"0 0px 0px rgba(0, 0, 0, 0)"},transition:{duration:.3,ease:"easeInOut"},className:Ee("fixed top-0 left-0 w-full z-50","border-b border-gray-300 dark:border-gray-700","transition-colors duration-300"),children:[u("h2",{className:Ee("flex items-center justify-center gap-2","text-center font-semibold tracking-wide","text-gray-800 dark:text-white","py-4 sm:py-5 px-2","whitespace-nowrap overflow-hidden text-ellipsis","text-fluid-xl"),children:[s("span",{role:"img","aria-hidden":"true","aria-label":"flag",className:"text-fluid-xl",children:"🎌"}),s("span",{className:Ee("bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent","drop-shadow-sm whitespace-nowrap overflow-hidden text-ellipsis"),children:Ie})]}),s(He,{children:e&&s(y.div,{className:"h-1 w-full overflow-hidden",initial:{opacity:0,scaleX:0},animate:{scaleX:t/100,opacity:1,transformOrigin:"left center"},exit:{opacity:0,scaleX:0},transition:{duration:.2,ease:"easeOut"},children:s("div",{className:"h-full w-full animate-gradient-x",style:{backgroundImage:"linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899)",backgroundSize:"300% 100%"}})},"scroll-bar")})]},"header")})});wt.displayName="Header";const $r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAYCAYAAADNhRJCAAADVUlEQVR4nO3YSWhdVRzH8c/fSrG12tQJcaiKExq7chG0oBTppioOqLiwSg260FqLdCGu4lAQqbQoChE1ioguxGkjKDiVWtGKEUFrqpY4YFFpSjYKav4u7n1weX3JS+KrIY/7hcPlnv9w/uf+7j3nvBeZqWZ+c9hcF1Dz36lF7AJqEbuAWsQuoBaxC6hF7AIOn+sC5jsRcSTOK2+/zcwD/3sRmXlQw3FI7Crvz8YoxnBRs730WV/2bar03VP2JS5okT+xpuy7rjm+qaZjsRUj+BO/YztOx7tl7BWl7yk4gF9xfGWshyr5Hqv0H9E01kDF1mgDk9S1Gs+UPlfPJLZTre1yGhEr8CEWYVVm7mwXU+FW/FJOpH8Sn0ciYkGbGhbhI9yJB3ECLsbn6ME6jGMwInowiKW4vRy7wW0RsTAiluCWNrUvy8zIzMCypnqWR8SVEdGLvejD0HRiDwXtRDwZ7+NvXJKZw9NNHBF96FW88e9gbUQsbHLbjXNNLnCDa3EOXszMFzJzPDNHMnNDZg5n5ig24iTswBo8n5mvV3IM4xjFF38zFuLL6c6nMq+1eAuX4Vl8rHhZX8aumebrBO1EPFEx8cHM3N3CfmFEZEQkHm+y9SvEH8JTiuXwqiaf70rb/VgyRR2nlddvICI2NcaNiHshM4fwBs7HD9jQlOPn0r4ed+Al7J9izIMoV4QBrMzMjYqt5WtMZObbmfnTTPJ1inYi7lUU+UBE3N3C/lll2bir0RkRi3Gj4uC0D6+UplZf3AAWK/bPyRgtr2dBZm7BNS38niuvr2XmeAv7E4oH34snpxhvMpZjT+PwkpkT+ECxmswZ7UTcj0vxBbZFxH3TzHsDjlIcWhoiP4rVEXFq1TEzf8PDWDFFvlexBzdFxPXlS7J0mrVUx3oPX+GTzJzN0vc9zoiIMyEijsbl+HQWuTpG24NN+ZBXYSc2R8TmaeTtx4TiMNJgRzneuhb+W/HjFDX8gZV4WiH4GLYo9usZPcDM7M3MvpnEVGL/UsztzYjYrthnt2XmyGzydYxDefSdr02xxPdU7ns0/UxQnBcWzCa2063+x2ZyxiqHtrFmY2buy8x/ZhPbaaJ8W2rmMfWX2AXUInYBtYhdQC1iF1CL2AXUInYB/wI4bO1CqckdTAAAAABJRU5ErkJggg==",Lr=({quizState:e,handleStartPlay:t})=>u("footer",{role:"contentinfo",className:"bg-gray-900 text-gray-200 py-12 px-4",children:[u("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 mb-14",children:[u("div",{children:[s(y.div,{"transition-all":!0,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},"duration-200":!0,"ease-in-out":!0,"translate-y-1":!0,"group-hover:translate-y-0":!0,className:"bg-white",children:s("img",{loading:"lazy",src:$r,alt:"Khan's Logo",className:"w-32 mb-4"})}),u("p",{className:"text-sm leading-relaxed",children:["Developed by ",s("strong",{children:"Khan Mahmudul Hasan"}),", a dedicated software engineer based in Japan. Specializing in modern frontend technologies and committed to building accessible, useful, and user-friendly applications for learners and businesses alike."]}),u("p",{className:"mt-4 text-xs text-gray-400",children:["© ",new Date().getFullYear()," Khan Mahmudul Hasan. All rights reserved."]})]}),u("div",{children:[s("h4",{className:"text-lg font-semibold mb-4",children:"Connect"}),u("ul",{className:"space-y-3",children:[s("li",{children:u("a",{href:"https://www.facebook.com/cse.mahmud",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's Facebook profile",className:"flex items-center hover:text-white transition-colors duration-200",children:[s(y.div,{"transition-all":!0,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},"duration-200":!0,"ease-in-out":!0,"translate-y-1":!0,"group-hover:translate-y-0":!0,children:s("img",{loading:"lazy",src:"icons/Facebook.png",alt:"Facebook",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"Facebook: cse.mahmud"]})}),s("li",{children:u("a",{href:"https://www.linkedin.com/in/mahmudulcse/",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's LinkedIn profile",className:"flex items-center hover:text-white transition-colors duration-200",children:[s(y.div,{"transition-all":!0,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},"duration-200":!0,"ease-in-out":!0,"translate-y-1":!0,"group-hover:translate-y-0":!0,children:s("img",{loading:"lazy",src:"icons/LinkedIn.png",alt:"LinkedIn",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"LinkedIn: /in/mahmudulcse"]})}),s("li",{children:u("a",{href:"https://github.com/csemahmud",target:"_blank",rel:"me noopener noreferrer","aria-label":"Visit Khan's GitHub profile",className:"flex items-center hover:text-white transition-colors duration-200",children:[s(y.div,{"transition-all":!0,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},"duration-200":!0,"ease-in-out":!0,"translate-y-1":!0,"group-hover:translate-y-0":!0,children:s("img",{loading:"lazy",src:"icons/GitHub.png",alt:"GitHub",className:"w-6 h-6 mr-2 opacity-80 group-hover:opacity-100 transition-opacity duration-200"})}),"GitHub: @csemahmud"]})})]})]}),u("div",{children:[s("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),s("p",{className:"text-sm mb-2",children:"For professional inquiries or collaboration opportunities:"}),s("p",{className:"text-sm mb-2",children:"📞 +81-70-4381-4193"}),u("p",{className:"text-sm",children:["📧 ",s("a",{href:"mailto:lone.wolf.mahmud@gmail.com",className:"underline hover:text-white",children:"lone.wolf.mahmud@gmail.com"})]})]})]}),e===E.Welcome&&u(y.div,{className:"fixed bottom-0 left-0 right-0 z-20 flex flex-col md:flex-row items-center justify-center text-center bg-black text-white gap-4 pb-10 pt-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s("p",{className:"text-gray-200 text-sm md:text-base",children:"Click Start to continue your Kanji journey..."}),s(y.div,{whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95},children:u("div",{className:"relative group inline-block",children:[s(I,{onClick:t,"aria-label":"Start Quiz",children:"Start"}),s("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-3 py-1 text-sm text-white bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap",children:u("span",{className:"flex gap-1",children:[s("span",{children:"Start"}),s("span",{children:"Quiz"})]})})]})})]})]}),Ir=({qLength:e,currentQuestion:t,currentIndex:r,selectedMeaning:n,selectedReading:i,setSelectedMeaning:a,setSelectedReading:l,showAnswer:c,score:o,remainingTime:d,mode:m,handleAnswer:f,handleNext:h,handleSkip:g,resetQuiz:b,handleFinish:v})=>{const x=p.useRef(null);return p.useEffect(()=>{c&&x.current&&x.current.scrollIntoView({behavior:"smooth",block:"start"})},[c]),u("div",{className:"w-full max-w-3xl mx-auto px-4 py-8 space-y-6 bg-[#1e1e2f] text-white rounded-xl shadow-lg transition-all duration-300",children:[u("div",{className:"text-center text-sm text-gray-400 tracking-wide",children:["Question ",s("span",{className:"font-semibold text-white",children:r+1})," of ",e]}),u("div",{className:"text-center",children:[s("div",{className:"text-7xl font-extrabold text-white drop-shadow mb-2",children:t.prompt}),u("p",{className:"text-sm text-gray-300",children:["Select the correct ",s("span",{className:"font-medium text-white",children:"meaning"})," and ",s("span",{className:"font-medium text-white",children:"reading"})]})]}),s(M,{title:"",variant:"dark",className:"bg-[#2a2a40] border border-gray-600",footer:s(Pr,{qLength:e,currentQuestion:t,currentIndex:r,showAnswer:c,selectedMeaning:n,selectedReading:i,correctMeaning:t.answer.meaning.correct,correctReading:t.answer.reading.correct,score:o,remainingTime:d,onSubmit:f,onNext:h,onSkip:g,resetQuiz:b,handleFinish:v}),children:!c&&u("div",{className:"flex flex-col md:flex-row gap-6",children:[s(nt,{title:t.prompt,choices:t.answer.meaning.choices,selected:n,currentIndex:r,mode:m,variant:"Meaning",onSelect:a}),s(nt,{title:"",choices:t.answer.reading.choices,selected:i,currentIndex:r,mode:m,variant:"Pronunciation",onSelect:l})]})}),s("div",{ref:x})]})},se=e=>`${"/khans_kanji_english_practice/".replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`,Fr=e=>se(`important/${e}`),Mr=e=>se(`fallbacks/${e}`),zr=0,Hr=async e=>{try{return(await fetch(e,{method:"HEAD"})).ok}catch{return!1}},Dr=e=>se(`${br.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`),lt=async(e,t)=>{try{const r=await fetch(se(e));if(!r.ok)throw new Error(`Failed to fetch ${e}: ${r.statusText}`);const n=await r.arrayBuffer(),i=kt(n,{type:"array"}),a=i.Sheets[i.SheetNames[zr]];if(!a)return console.warn(`⚠️ Sheet not found in file: ${e}`),[];const c=Ot.sheet_to_json(a).map(f=>{const h={};for(const g in f)f.hasOwnProperty(g)&&(h[g.toLowerCase()]=f[g]);return h}),o=f=>typeof f.kanji=="string"&&f.kanji.trim()!==""&&typeof f.hiragana=="string"&&f.hiragana.trim()!==""&&typeof f.english=="string"&&f.english.trim()!=="",d=c.filter(o);return d.length===0&&console.warn(`⚠️ No valid kanji rows parsed from file: ${e}`),await Promise.all(d.map(async f=>{let h;return typeof f.imageUrl=="string"&&f.imageUrl.trim()?h=f.imageUrl.trim():typeof f.imagename=="string"&&f.imagename.trim()&&(h=Dr(f.imagename.trim())),h&&(await Hr(h)||(console.warn(`⚠️ Image not found: ${h} — skipping`),h=void 0)),{id:t.current++,kanji:f.kanji.trim(),hiragana:f.hiragana.trim(),english:f.english.trim(),imageUrl:h}}))}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(`❌ Failed to load Excel file: ${e}`,n),[]}},qr=4,Nt="⬜",ie=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t},Kr=(e,t,r,n,i)=>{const a=Array.from(new Set(e.filter(l=>l.id!==t).map(r).filter(l=>l&&l!==i)));return a.length<n&&console.warn(`Only ${a.length} unique distractors available for: ${i}`),ie(a).slice(0,n)},Ur=(e,t,r)=>{const n=new Set([e,...t]),i=Array.from(n);for(;i.length<r;)i.push(Nt);let l=ie(i).slice(0,r);return l.includes(e)||(l[Math.floor(Math.random()*r)]=e),ie(l)},Br=(e,t,r=qr)=>{const n=Array.from(new Map(e.map(a=>[a.id,a])).values());n.length<r&&console.warn(`Kanji list has only ${n.length} items. Some questions may have padded choices.`);const i=(a,l,c)=>{const o=Kr(n,a,c,r-1,l),d=Ur(l,o,r);return{correct:l,choices:d}};return ie(n).map(a=>{const l=t===O.EN_TO_JP?a.english:a.kanji,c=i(a.id,t===O.EN_TO_JP?a.kanji:a.english,t===O.EN_TO_JP?f=>f.kanji:f=>f.english),o=a.hiragana||Nt,d=i(a.id,o,f=>f.hiragana),m={meaning:c,reading:d};return{id:a.id,prompt:l,answer:m,imageUrl:a.imageUrl}})};function ot(e,t){let r=0;const n={...t,total:t.total+1};return e===!0?(r=Z,n.currentScore+=r,n.correctAnswers+=1):e===!1?(r=Fe,n.currentScore+=r,n.wrongAnswers+=1):e===null&&(r=Me,n.currentScore+=r),{updatedScore:n,delta:r}}const Ce=e=>e>0?"+"+e:e.toString(),Jr={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.2}}},Wr={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};function Vr(e){const t=Math.floor(e/60),n=`0${e%60}`;return`${t}:${n}`}const Gr=()=>s(y.div,{className:"min-h-screen bg-gray-900 text-white flex flex-col justify-center items-center px-4 py-10",variants:Jr,initial:"hidden",animate:"visible",children:s("div",{className:"w-full max-w-3xl pb-36 md:pb-0",children:s(y.div,{variants:Wr,children:s(M,{title:`Welcome to ${Ie}`,description:"This Kanji Quiz app supports all learners aiming to master Japanese Kanji efficiently.",variant:"dark",className:"bg-gray-800 text-white shadow-lg border border-gray-700",footer:u("div",{className:"space-y-2 text-sm text-gray-300",children:[s("h3",{className:"text-base font-semibold text-white",children:"Rules:"}),u("ul",{className:"list-disc list-inside space-y-1",children:[s("li",{children:"Select Game Mode: 漢字 to En or En to 漢字"}),s("li",{children:"Choose JLPT Level (N5–N1). If unselected, questions are combined."}),u("li",{children:["Quiz time: ",Vr(q)," minute"]}),u("li",{children:["Marks — Correct: ",Ce(Z),", Wrong: ",Ce(Fe),", Skipped: ",Ce(Me)]}),s("li",{children:"Skip if unsure. Wrong answers deduct points."})]})]}),children:s(Y,{children:u("section",{"aria-labelledby":"developer-heading",className:"flex flex-col md:flex-row items-center gap-6 max-w-5xl w-full mb-10",children:[s(pr,{src:Fr("khan_1.JPG"),fallbackSrc:Mr("profile_fallback.jpg"),alt:"Khan Mahmudul Hasan",className:"w-32 h-40 md:w-40 md:h-52 object-cover rounded-xl border-2 border-gray-700 shadow-md"}),u("div",{className:"flex-1 space-y-2 prose prose-invert prose-sm md:prose-base font-light",children:[s("h1",{id:"developer-heading",className:"text-2xl md:text-3xl font-bold text-white",children:"Developer: Khan Mahmudul Hasan"}),s("p",{children:"B.Sc. and M.Sc. in Computer Science and Engineering. Passionate about education, technology, and cross-cultural communication. Living in Japan and developing tools for Japanese language learners. Skilled in English, Japanese (JLPT N3), React, TypeScript, and modern web technologies."})]})]})})})})})}),Yr=({score:e,isTimedUp:t,resetQuiz:r})=>{p.useEffect(()=>{t&&_e.fire({title:"Timed Out",text:"Sorry, Quiz Time Has Finished !!!",icon:"error",confirmButtonText:"OK",background:"#1f2937",color:"#f3f4f6",customClass:{confirmButton:"px-4 py-2 bg-red-600 text-white rounded"}})},[t]);const n=e.total!==0?Math.min(100,Math.round(e.currentScore/(e.total*Z)*100)):0;let i="",a="";return n>=90?(i="Excellent! You're mastering these Kanji!",a="🎉🔥"):n>=70?(i="Good job! Keep up the great work.",a="👏😊"):n>=50?(i="You're getting there! Keep practicing.",a="💪📖"):(i="Don't worry! Practice makes perfect.",a="🙌✨"),s(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col md:flex-row gap-6 mt-6 w-full justify-center px-4",children:s(y.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.4},className:"w-full md:max-w-[300px]",children:u(M,{title:"🎌 Thank you for attending the Kanji Quiz!",description:"📊 Here is your final score",variant:"answer_choices",footer:u("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4 w-full",children:[s("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Feel free to try again anytime! 🔁"}),s(I,{variant:"secondary",onClick:r,children:"🔄 Try Again"})]}),className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 text-lg font-bold",children:[s(yt,{score:e.currentScore,total:e.total,correctAnswers:e.correctAnswers,wrongAnswers:e.wrongAnswers}),u("div",{className:"mt-4 text-center",role:"alert",children:[u("p",{className:"text-xl",children:["🏁 Score: ",u("span",{className:"font-bold",children:[n,"%"]})]}),u("p",{className:"italic text-sm text-gray-700 dark:text-gray-300 mt-2",children:[a," ",i]})]})]})},"score")},"final-score-container")},Zr=({mode:e,setMode:t,level:r,setLevel:n,isLoading:i,error:a,questionList:l,qLength:c,currentQuestion:o,currentIndex:d,selectedMeaning:m,selectedReading:f,setSelectedMeaning:h,setSelectedReading:g,showAnswer:b,score:v,quizState:x,remainingTime:k,isTimedUp:A,handleAnswer:j,handleNext:L,handleSkip:P,resetQuiz:T,handleFinish:_})=>{const B=()=>{switch(x){case E.Welcome:return s(Gr,{});case E.Play:return s(Ir,{qLength:c,currentQuestion:o,currentIndex:d,selectedMeaning:m,selectedReading:f,setSelectedMeaning:h,setSelectedReading:g,showAnswer:b,score:v,remainingTime:k,mode:e,handleAnswer:j,handleNext:L,handleSkip:P,resetQuiz:T,handleFinish:_});case E.Finish:return s(Yr,{score:v,resetQuiz:T,isTimedUp:A});default:return s("div",{className:"text-center mt-8",children:"⚠️ Unknown quiz state."})}};return i?s("div",{className:"text-center text-xl mt-8","aria-live":"polite",children:"⏳ Loading kanji data..."}):a?u("div",{className:"text-center text-red-500 mt-8","aria-live":"polite",children:["❌ Error loading kanji data: ",a.message??"Unknown error"]}):l!=null&&l.length?o?d>=l.length?u("div",{className:"text-center mt-8","aria-live":"polite",children:["🎉 Quiz complete! Your score: ",v.currentScore]}):u("div",{className:"relative min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white",children:[s(Rr,{}),s(_r,{}),u("main",{className:"py-2 sm:py-7 px-4 flex flex-col items-center relative z-10",children:[s(jr,{mode:e,setMode:t,level:r,setLevel:n,currentIndex:d}),B()]})]}):s("div",{"aria-live":"polite",children:"⚠️ No current question loaded."}):s("div",{className:"text-center text-gray-500 mt-8","aria-live":"polite",children:"📭 No kanji data available. Please check your connection or try again later."})},Qr=({mode:e,setMode:t,level:r,setLevel:n,isLoading:i,error:a,questionList:l,qLength:c,currentQuestion:o,currentIndex:d,selectedMeaning:m,selectedReading:f,setSelectedMeaning:h,setSelectedReading:g,showAnswer:b,score:v,quizState:x,remainingTime:k,isTimedUp:A,handleAnswer:j,handleNext:L,handleSkip:P,resetQuiz:T,handleFinish:_})=>s(Zr,{mode:e,setMode:t,level:r,setLevel:n,isLoading:i,error:a,questionList:l,qLength:c,currentQuestion:o,currentIndex:d,selectedMeaning:m,selectedReading:f,setSelectedMeaning:h,setSelectedReading:g,showAnswer:b,score:v,quizState:x,remainingTime:k,isTimedUp:A,handleAnswer:j,handleSkip:P,handleNext:L,resetQuiz:T,handleFinish:_}),Xr={async loadKanjiData(e=null,t){let r=[];e&&Te[e]?(r=await lt(Te[e],t),console.log("✅ Loaded data for level:",e,r)):(r=(await Promise.all(Object.values(Te).map(a=>lt(a,t)))).flat(),console.log("✅ Loaded combined data for all levels:",r));const n=i=>typeof i.kanji=="string"&&typeof i.hiragana=="string"&&typeof i.english=="string";return r.filter(n)}},en=(e=null)=>{const[t,r]=p.useState([]),[n,i]=p.useState(!0),[a,l]=p.useState(null),c=p.useRef(0);return p.useEffect(()=>{(async()=>{try{i(!0),l(null);const d=await Xr.loadKanjiData(e,c);r(d),d.length===0&&console.warn("⚠️ Loaded kanji list is empty."),console.log("✅ Final kanjiList passed to generateKanjiQuestions:",d)}catch(d){const m=d instanceof Error?d.message:String(d);console.error("❌ Kanji load failed:",m),l(new Error(`Failed to load kanji data for level ${e??"ALL"}: ${m}`))}finally{i(!1)}})()},[e]),{kanjiList:t,isLoading:n,error:a}};let $=null;const tn=(e,t,r)=>{let n=e;$&&clearInterval($),t(n),$=setInterval(()=>{n-=1,t(n),n<=0&&(clearInterval($),$=null,r())},1e3)},te=()=>{$&&(clearInterval($),$=null)},ct={currentScore:0,total:0,correctAnswers:0,wrongAnswers:0},rn=(e,t)=>{const[r,n]=p.useState([]),[i,a]=p.useState(0),[l,c]=p.useState(null),[o,d]=p.useState(null),[m,f]=p.useState(ct),[h,g]=p.useState(!1),[b,v]=p.useState(!1),[x,k]=p.useState(E.Welcome),[A,j]=p.useState(q),[L,P]=p.useState(!1),T=N=>{k(N)},_=i<r.length?r[i]:null,B=r.length;p.useEffect(()=>{e.length>0&&z()},[e,t]),p.useEffect(()=>{x===E.Play&&r.length>0&&(te(),j(q),tn(q,j,Q),P(!1))},[x,r]);const Q=()=>{te(),i<r.length-1&&P(!0),T(E.Finish)},le=()=>{a(0),f(ct),c(null),d(null),g(!1),v(!1)},oe=(N,J,he)=>!he||!N||!J?null:N===he.answer.meaning.correct&&J===he.answer.reading.correct,ce=()=>{if(b)return;const N=oe(l,o,_),{updatedScore:J}=ot(N,m);f(J),g(!0)},de=()=>{v(!0);const{updatedScore:N}=ot(null,m);f(N),g(!0),c(null),d(null)},ue=()=>{i<r.length-1&&(a(N=>N+1),c(null),d(null),g(!1),v(!1))},z=()=>{te(),j(q),P(!1),le();const N=Br(e,t);n(N),x===E.Finish&&T(E.Play)};return{quizState:x,handleQuizState:T,mode:t,questionList:r,qLength:B,currentQuestion:_,currentIndex:i,selectedMeaning:l,setSelectedMeaning:c,selectedReading:o,setSelectedReading:d,showAnswer:h,score:m,remainingTime:A,isTimedUp:L,handleAnswer:ce,handleSkip:de,handleNext:ue,resetQuiz:z,handleStartPlay:()=>{if(e.length===0){console.warn("Kanji list is empty. Cannot start quiz.");return}T(E.Play),z()},handleFinish:()=>i>=r.length-1?(te(),T(E.Finish),!0):(console.warn("handleFinish() called before the last question. Ignored."),!1)}};function nn(){const[e,t]=p.useState(!1),[r,n]=p.useState(0),i=p.useRef(null),[a,l]=p.useState(O.JP_TO_EN),[c,o]=p.useState(null),{kanjiList:d,isLoading:m,error:f}=en(c),{questionList:h,qLength:g,currentQuestion:b,currentIndex:v,handleAnswer:x,handleSkip:k,handleNext:A,selectedMeaning:j,selectedReading:L,setSelectedMeaning:P,setSelectedReading:T,showAnswer:_,score:B,quizState:Q,remainingTime:le,isTimedUp:oe,resetQuiz:ce,handleStartPlay:de,handleFinish:ue}=rn(d,a);return p.useEffect(()=>{const z=()=>{const me=window.scrollY,fe=document.documentElement.scrollHeight-window.innerHeight,N=fe>0?me/fe*100:0;t(me>10),n(N)};return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]),u(Y,{children:[s(ir,{children:s("title",{children:Ie})}),u("div",{className:"flex flex-col min-h-screen bg-white dark:bg-[#1f1f1f] text-gray-800 dark:text-gray-100 transition-colors duration-300",children:[s(wt,{scrolled:e,ref:i,scrollProgress:r}),s("main",{className:"flex-grow px-4 sm:px-6 lg:px-8 py-6 mb-6 sm:mb-8 md:mb-10",children:s(Qr,{mode:a,setMode:l,level:c,setLevel:o,isLoading:m,error:f,questionList:h,qLength:g,currentQuestion:b,currentIndex:v,selectedMeaning:j,selectedReading:L,setSelectedMeaning:P,setSelectedReading:T,showAnswer:_,score:B,quizState:Q,remainingTime:le,isTimedUp:oe,handleAnswer:x,handleSkip:k,handleNext:A,resetQuiz:ce,handleFinish:ue})}),s(Lr,{quizState:Q,handleStartPlay:de})]})]})}Rt.createRoot(document.getElementById("root")).render(s(p.StrictMode,{children:s(gt,{children:s(nn,{})})}));
